import{r as P,R as Y,d as Ts}from"./index-17f11a84.js";import{a as Ns}from"./chunk-AY7I2SME-5eb1ab46.js";import{g as Ms}from"./_commonjsHelpers-de833af9.js";import{t as js,d as ks}from"./throttle-607ba4fb.js";import{i as we}from"./is-plain-object-24dec1b5.js";var vu={exports:{}},yt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=P,zs=Symbol.for("react.element"),Ls=Symbol.for("react.fragment"),$s=Object.prototype.hasOwnProperty,Ws=Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qs={key:!0,ref:!0,__self:!0,__source:!0};function hu(e,r,t){var n,a={},u=null,s=null;t!==void 0&&(u=""+t),r.key!==void 0&&(u=""+r.key),r.ref!==void 0&&(s=r.ref);for(n in r)$s.call(r,n)&&!qs.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)a[n]===void 0&&(a[n]=r[n]);return{$$typeof:zs,type:e,key:u,ref:s,props:a,_owner:Ws.current}}yt.Fragment=Ls;yt.jsx=hu;yt.jsxs=hu;vu.exports=yt;var gu=vu.exports;const V=gu.jsx,Fr=gu.jsxs;var er={};Object.defineProperty(er,"__esModule",{value:!0});var Hs=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Wt={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Du={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Hs?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},bn={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var tt=1;tt<20;tt++)bn["f"+tt]=111+tt;function Ot(e,r,t){r&&!("byKey"in r)&&(t=r,r=null),Array.isArray(e)||(e=[e]);var n=e.map(function(s){return pu(s,r)}),a=function(i){return n.some(function(c){return mu(c,i)})},u=t==null?a:a(t);return u}function Vs(e,r){return Ot(e,r)}function Ks(e,r){return Ot(e,{byKey:!0},r)}function pu(e,r){var t=r&&r.byKey,n={};e=e.replace("++","+add");var a=e.split("+"),u=a.length;for(var s in Wt)n[Wt[s]]=!1;var i=!0,c=!1,f=void 0;try{for(var d=a[Symbol.iterator](),v;!(i=(v=d.next()).done);i=!0){var h=v.value,p=h.endsWith("?")&&h.length>1;p&&(h=h.slice(0,-1));var g=wn(h),o=Wt[g];if(h.length>1&&!o&&!Du[h]&&!bn[g])throw new TypeError('Unknown modifier: "'+h+'"');(u===1||!o)&&(t?n.key=g:n.which=Cu(h)),o&&(n[o]=p?null:!0)}}catch(m){c=!0,f=m}finally{try{!i&&d.return&&d.return()}finally{if(c)throw f}}return n}function mu(e,r){for(var t in e){var n=e[t],a=void 0;if(n!=null&&(t==="key"&&r.key!=null?a=r.key.toLowerCase():t==="which"?a=n===91&&r.which===93?91:r.which:a=r[t],!(a==null&&n===!1)&&a!==n))return!1}return!0}function Cu(e){e=wn(e);var r=bn[e]||e.toUpperCase().charCodeAt(0);return r}function wn(e){return e=e.toLowerCase(),e=Du[e]||e,e}var Us=er.default=Ot,qt=er.isHotkey=Ot;er.isCodeHotkey=Vs;er.isKeyHotkey=Ks;er.parseHotkey=pu;er.compareHotkey=mu;er.toKeyCode=Cu;er.toKeyName=wn;var Gs=Js,Bu="֑-߿יִ-﷽ﹰ-ﻼ",Eu="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ys=new RegExp("^[^"+Eu+"]*["+Bu+"]"),Xs=new RegExp("^[^"+Bu+"]*["+Eu+"]");function Js(e){return e=String(e||""),Ys.test(e)?"rtl":Xs.test(e)?"ltr":"neutral"}const bu=Ms(Gs),Wn=e=>typeof e=="object"&&e!=null&&e.nodeType===1,qn=(e,r)=>(!r||e!=="hidden")&&e!=="visible"&&e!=="clip",Ht=(e,r)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const t=getComputedStyle(e,null);return qn(t.overflowY,r)||qn(t.overflowX,r)||(n=>{const a=(u=>{if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(e)}return!1},nt=(e,r,t,n,a,u,s,i)=>u<e&&s>r||u>e&&s<r?0:u<=e&&i<=t||s>=r&&i>=t?u-e-n:s>r&&i<t||u<e&&i>t?s-r+a:0,Zs=e=>{const r=e.parentElement;return r??(e.getRootNode().host||null)},Hn=(e,r)=>{var t,n,a,u;if(typeof document>"u")return[];const{scrollMode:s,block:i,inline:c,boundary:f,skipOverflowHiddenElements:d}=r,v=typeof f=="function"?f:ee=>ee!==f;if(!Wn(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,p=[];let g=e;for(;Wn(g)&&v(g);){if(g=Zs(g),g===h){p.push(g);break}g!=null&&g===document.body&&Ht(g)&&!Ht(document.documentElement)||g!=null&&Ht(g,d)&&p.push(g)}const o=(n=(t=window.visualViewport)==null?void 0:t.width)!=null?n:innerWidth,m=(u=(a=window.visualViewport)==null?void 0:a.height)!=null?u:innerHeight,{scrollX:B,scrollY:b}=window,{height:F,width:O,top:T,right:k,bottom:y,left:I}=e.getBoundingClientRect(),{top:R,right:$,bottom:G,left:N}=(ee=>{const K=window.getComputedStyle(ee);return{top:parseFloat(K.scrollMarginTop)||0,right:parseFloat(K.scrollMarginRight)||0,bottom:parseFloat(K.scrollMarginBottom)||0,left:parseFloat(K.scrollMarginLeft)||0}})(e);let W=i==="start"||i==="nearest"?T-R:i==="end"?y+G:T+F/2-R+G,j=c==="center"?I+O/2-N+$:c==="end"?k+$:I-N;const z=[];for(let ee=0;ee<p.length;ee++){const K=p[ee],{height:ie,width:J,top:te,right:he,bottom:oe,left:pe}=K.getBoundingClientRect();if(s==="if-needed"&&T>=0&&I>=0&&y<=m&&k<=o&&T>=te&&y<=oe&&I>=pe&&k<=he)return z;const C=getComputedStyle(K),x=parseInt(C.borderLeftWidth,10),S=parseInt(C.borderTopWidth,10),L=parseInt(C.borderRightWidth,10),_=parseInt(C.borderBottomWidth,10);let U=0,Q=0;const se="offsetWidth"in K?K.offsetWidth-K.clientWidth-x-L:0,ne="offsetHeight"in K?K.offsetHeight-K.clientHeight-S-_:0,le="offsetWidth"in K?K.offsetWidth===0?0:J/K.offsetWidth:0,re="offsetHeight"in K?K.offsetHeight===0?0:ie/K.offsetHeight:0;if(h===K)U=i==="start"?W:i==="end"?W-m:i==="nearest"?nt(b,b+m,m,S,_,b+W,b+W+F,F):W-m/2,Q=c==="start"?j:c==="center"?j-o/2:c==="end"?j-o:nt(B,B+o,o,x,L,B+j,B+j+O,O),U=Math.max(0,U+b),Q=Math.max(0,Q+B);else{U=i==="start"?W-te-S:i==="end"?W-oe+_+ne:i==="nearest"?nt(te,oe,ie,S,_+ne,W,W+F,F):W-(te+ie/2)+ne/2,Q=c==="start"?j-pe-x:c==="center"?j-(pe+J/2)+se/2:c==="end"?j-he+L+se:nt(pe,he,J,x,L+se,j,j+O,O);const{scrollLeft:me,scrollTop:Ce}=K;U=re===0?0:Math.max(0,Math.min(Ce+U/re,K.scrollHeight-ie/re+ne)),Q=le===0?0:Math.max(0,Math.min(me+Q/le,K.scrollWidth-J/le+se)),W+=Ce-U,j+=me-Q}z.push({el:K,top:U,left:Q})}return z},_s=e=>e===!1?{block:"end",inline:"nearest"}:(r=>r===Object(r)&&Object.keys(r).length!==0)(e)?e:{block:"start",inline:"nearest"};function Qs(e,r){if(!e.isConnected||!(a=>{let u=a;for(;u&&u.parentNode;){if(u.parentNode===document)return!0;u=u.parentNode instanceof ShadowRoot?u.parentNode.host:u.parentNode}return!1})(e))return;const t=(a=>{const u=window.getComputedStyle(a);return{top:parseFloat(u.scrollMarginTop)||0,right:parseFloat(u.scrollMarginRight)||0,bottom:parseFloat(u.scrollMarginBottom)||0,left:parseFloat(u.scrollMarginLeft)||0}})(e);if((a=>typeof a=="object"&&typeof a.behavior=="function")(r))return r.behavior(Hn(e,r));const n=typeof r=="boolean"||r==null?void 0:r.behavior;for(const{el:a,top:u,left:s}of Hn(e,_s(r))){const i=u-t.top+t.bottom,c=s-t.left+t.right;a.scroll({top:i,left:c,behavior:n})}}var wu=Symbol.for("immer-nothing"),Vn=Symbol.for("immer-draftable"),Me=Symbol.for("immer-state");function qe(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sr=Object.getPrototypeOf;function gr(e){return!!e&&!!e[Me]}function Dr(e){var r;return e?Au(e)||Array.isArray(e)||!!e[Vn]||!!((r=e.constructor)!=null&&r[Vn])||xt(e)||Pt(e):!1}var ei=Object.prototype.constructor.toString();function Au(e){if(!e||typeof e!="object")return!1;const r=Sr(e);if(r===null)return!0;const t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===ei}function $r(e,r){St(e)===0?Object.entries(e).forEach(([t,n])=>{r(t,n,e)}):e.forEach((t,n)=>r(n,t,e))}function St(e){const r=e[Me];return r?r.type_:Array.isArray(e)?1:xt(e)?2:Pt(e)?3:0}function Qt(e,r){return St(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function Fu(e,r,t){const n=St(e);n===2?e.set(r,t):n===3?e.add(t):e[r]=t}function ri(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function xt(e){return e instanceof Map}function Pt(e){return e instanceof Set}function cr(e){return e.copy_||e.base_}function en(e,r){if(xt(e))return new Map(e);if(Pt(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!r&&Au(e))return Sr(e)?{...e}:Object.assign(Object.create(null),e);const t=Object.getOwnPropertyDescriptors(e);delete t[Me];let n=Reflect.ownKeys(t);for(let a=0;a<n.length;a++){const u=n[a],s=t[u];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[u]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[u]})}return Object.create(Sr(e),t)}function An(e,r=!1){return Rt(e)||gr(e)||!Dr(e)||(St(e)>1&&(e.set=e.add=e.clear=e.delete=ti),Object.freeze(e),r&&$r(e,(t,n)=>An(n,!0))),e}function ti(){qe(2)}function Rt(e){return Object.isFrozen(e)}var ni={};function pr(e){const r=ni[e];return r||qe(0,e),r}var Wr;function yu(){return Wr}function ai(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kn(e,r){r&&(pr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function rn(e){tn(e),e.drafts_.forEach(ui),e.drafts_=null}function tn(e){e===Wr&&(Wr=e.parent_)}function Un(e){return Wr=ai(Wr,e)}function ui(e){const r=e[Me];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function Gn(e,r){r.unfinalizedDrafts_=r.drafts_.length;const t=r.drafts_[0];return e!==void 0&&e!==t?(t[Me].modified_&&(rn(r),qe(4)),Dr(e)&&(e=Bt(r,e),r.parent_||Et(r,e)),r.patches_&&pr("Patches").generateReplacementPatches_(t[Me].base_,e,r.patches_,r.inversePatches_)):e=Bt(r,t,[]),rn(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==wu?e:void 0}function Bt(e,r,t){if(Rt(r))return r;const n=r[Me];if(!n)return $r(r,(a,u)=>Yn(e,n,r,a,u,t)),r;if(n.scope_!==e)return r;if(!n.modified_)return Et(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let u=a,s=!1;n.type_===3&&(u=new Set(a),a.clear(),s=!0),$r(u,(i,c)=>Yn(e,n,a,i,c,t,s)),Et(e,a,!1),t&&e.patches_&&pr("Patches").generatePatches_(n,t,e.patches_,e.inversePatches_)}return n.copy_}function Yn(e,r,t,n,a,u,s){if(gr(a)){const i=u&&r&&r.type_!==3&&!Qt(r.assigned_,n)?u.concat(n):void 0,c=Bt(e,a,i);if(Fu(t,n,c),gr(c))e.canAutoFreeze_=!1;else return}else s&&t.add(a);if(Dr(a)&&!Rt(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bt(e,a),(!r||!r.scope_.parent_)&&Et(e,a)}}function Et(e,r,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&An(r,t)}function si(e,r){const t=Array.isArray(e),n={type_:t?1:0,scope_:r?r.scope_:yu(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,u=Fn;t&&(a=[n],u=qr);const{revoke:s,proxy:i}=Proxy.revocable(a,u);return n.draft_=i,n.revoke_=s,i}var Fn={get(e,r){if(r===Me)return e;const t=cr(e);if(!Qt(t,r))return ii(e,t,r);const n=t[r];return e.finalized_||!Dr(n)?n:n===Vt(e.base_,r)?(Kt(e),e.copy_[r]=an(n,e)):n},has(e,r){return r in cr(e)},ownKeys(e){return Reflect.ownKeys(cr(e))},set(e,r,t){const n=Ou(cr(e),r);if(n!=null&&n.set)return n.set.call(e.draft_,t),!0;if(!e.modified_){const a=Vt(cr(e),r),u=a==null?void 0:a[Me];if(u&&u.base_===t)return e.copy_[r]=t,e.assigned_[r]=!1,!0;if(ri(t,a)&&(t!==void 0||Qt(e.base_,r)))return!0;Kt(e),nn(e)}return e.copy_[r]===t&&(t!==void 0||r in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=t,e.assigned_[r]=!0),!0},deleteProperty(e,r){return Vt(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,Kt(e),nn(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const t=cr(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty(){qe(11)},getPrototypeOf(e){return Sr(e.base_)},setPrototypeOf(){qe(12)}},qr={};$r(Fn,(e,r)=>{qr[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});qr.deleteProperty=function(e,r){return qr.set.call(this,e,r,void 0)};qr.set=function(e,r,t){return Fn.set.call(this,e[0],r,t,e[0])};function Vt(e,r){const t=e[Me];return(t?cr(t):e)[r]}function ii(e,r,t){var a;const n=Ou(r,t);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Ou(e,r){if(!(r in e))return;let t=Sr(e);for(;t;){const n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=Sr(t)}}function nn(e){e.modified_||(e.modified_=!0,e.parent_&&nn(e.parent_))}function Kt(e){e.copy_||(e.copy_=en(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oi=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,t,n)=>{if(typeof r=="function"&&typeof t!="function"){const u=t;t=r;const s=this;return function(c=u,...f){return s.produce(c,d=>t.call(this,d,...f))}}typeof t!="function"&&qe(6),n!==void 0&&typeof n!="function"&&qe(7);let a;if(Dr(r)){const u=Un(this),s=an(r,void 0);let i=!0;try{a=t(s),i=!1}finally{i?rn(u):tn(u)}return Kn(u,n),Gn(a,u)}else if(!r||typeof r!="object"){if(a=t(r),a===void 0&&(a=r),a===wu&&(a=void 0),this.autoFreeze_&&An(a,!0),n){const u=[],s=[];pr("Patches").generateReplacementPatches_(r,a,u,s),n(u,s)}return a}else qe(1,r)},this.produceWithPatches=(r,t)=>{if(typeof r=="function")return(s,...i)=>this.produceWithPatches(s,c=>r(c,...i));let n,a;return[this.produce(r,t,(s,i)=>{n=s,a=i}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Dr(e)||qe(8),gr(e)&&(e=li(e));const r=Un(this),t=an(e,void 0);return t[Me].isManual_=!0,tn(r),t}finishDraft(e,r){const t=e&&e[Me];(!t||!t.isManual_)&&qe(9);const{scope_:n}=t;return Kn(n,r),Gn(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,r){let t;for(t=r.length-1;t>=0;t--){const a=r[t];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}t>-1&&(r=r.slice(t+1));const n=pr("Patches").applyPatches_;return gr(e)?n(e,r):this.produce(e,a=>n(a,r))}};function an(e,r){const t=xt(e)?pr("MapSet").proxyMap_(e,r):Pt(e)?pr("MapSet").proxySet_(e,r):si(e,r);return(r?r.scope_:yu()).drafts_.push(t),t}function li(e){return gr(e)||qe(10,e),Su(e)}function Su(e){if(!Dr(e)||Rt(e))return e;const r=e[Me];let t;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,t=en(e,r.scope_.immer_.useStrictShallowCopy_)}else t=en(e,!0);return $r(t,(n,a)=>{Fu(t,n,Su(a))}),r&&(r.finalized_=!1),t}var je=new oi,yn=je.produce;je.produceWithPatches.bind(je);je.setAutoFreeze.bind(je);je.setUseStrictShallowCopy.bind(je);je.applyPatches.bind(je);var Xn=je.createDraft.bind(je),Jn=je.finishDraft.bind(je),ci={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=D.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},fi={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=Z.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},di={transform(e,r){var{current:t,affinity:n}=e;if(t!=null){var a=E.transform(t,r,{affinity:n});e.current=a,a==null&&e.unref()}}},bt=new WeakMap,wt=new WeakMap,Ir=new WeakMap,xu=new WeakMap,Zn=new WeakMap,_n=new WeakMap,Qn=new WeakMap,D={ancestors(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=D.levels(e,r);return t?n=n.slice(1):n=n.slice(0,-1),n},common(e,r){for(var t=[],n=0;n<e.length&&n<r.length;n++){var a=e[n],u=r[n];if(a!==u)break;t.push(a)}return t},compare(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++){if(e[n]<r[n])return-1;if(e[n]>r[n])return 1}return 0},endsAfter(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return D.equals(n,a)&&u>s},endsAt(e,r){var t=e.length,n=e.slice(0,t),a=r.slice(0,t);return D.equals(n,a)},endsBefore(e,r){var t=e.length-1,n=e.slice(0,t),a=r.slice(0,t),u=e[t],s=r[t];return D.equals(n,a)&&u<s},equals(e,r){return e.length===r.length&&e.every((t,n)=>t===r[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,r){return D.compare(e,r)===1},isAncestor(e,r){return e.length<r.length&&D.compare(e,r)===0},isBefore(e,r){return D.compare(e,r)===-1},isChild(e,r){return e.length===r.length+1&&D.compare(e,r)===0},isCommon(e,r){return e.length<=r.length&&D.compare(e,r)===0},isDescendant(e,r){return e.length>r.length&&D.compare(e,r)===0},isParent(e,r){return e.length+1===r.length&&D.compare(e,r)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,r){if(e.length!==r.length)return!1;var t=e.slice(0,-1),n=r.slice(0,-1),a=e[e.length-1],u=r[r.length-1];return a!==u&&D.equals(t,n)},levels(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return t&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var r=e[e.length-1];return e.slice(0,-1).concat(r+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var r=e[e.length-1];if(r<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(r-1)},relative(e,r){if(!D.isAncestor(r,e)&&!D.equals(e,r))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(r,"], because it is not above or equal to the path."));return e.slice(r.length)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=t;if(e.length===0)return n;switch(r.type){case"insert_node":{var{path:u}=r;(D.equals(u,n)||D.endsBefore(u,n)||D.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:s}=r;if(D.equals(s,n)||D.isAncestor(s,n))return null;D.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:i,position:c}=r;D.equals(i,n)||D.endsBefore(i,n)?n[i.length-1]-=1:D.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=c);break}case"split_node":{var{path:f,position:d}=r;if(D.equals(f,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else D.endsBefore(f,n)?n[f.length-1]+=1:D.isAncestor(f,n)&&e[f.length]>=d&&(n[f.length-1]+=1,n[f.length]-=d);break}case"move_node":{var{path:v,newPath:h}=r;if(D.equals(v,h))return n;if(D.isAncestor(v,n)||D.equals(v,n)){var p=h.slice();return D.endsBefore(v,h)&&v.length<h.length&&(p[v.length-1]-=1),p.concat(n.slice(v.length))}else D.isSibling(v,h)&&(D.isAncestor(h,n)||D.equals(h,n))?D.endsBefore(v,n)?n[v.length-1]-=1:n[v.length-1]+=1:D.endsBefore(h,n)||D.equals(h,n)||D.isAncestor(h,n)?(D.endsBefore(v,n)&&(n[v.length-1]-=1),n[h.length-1]+=1):D.endsBefore(v,n)&&(D.equals(h,n)&&(n[h.length-1]+=1),n[v.length-1]-=1);break}}return n}};function Hr(e){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hr(e)}function vi(e,r){if(Hr(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Hr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hi(e){var r=vi(e,"string");return Hr(r)==="symbol"?r:String(r)}function xe(e,r,t){return r=hi(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ea(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Mr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ea(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ea(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var gi=(e,r,t)=>{switch(t.type){case"insert_node":{var{path:n,node:a}=t,u=M.parent(e,n),s=n[n.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(s,0,a),r)for(var[i,c]of E.points(r))r[c]=Z.transform(i,t);break}case"insert_text":{var{path:f,offset:d,text:v}=t;if(v.length===0)break;var h=M.leaf(e,f),p=h.text.slice(0,d),g=h.text.slice(d);if(h.text=p+v+g,r)for(var[o,m]of E.points(r))r[m]=Z.transform(o,t);break}case"merge_node":{var{path:B}=t,b=M.get(e,B),F=D.previous(B),O=M.get(e,F),T=M.parent(e,B),k=B[B.length-1];if(H.isText(b)&&H.isText(O))O.text+=b.text;else if(!H.isText(b)&&!H.isText(O))O.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(B,"] to nodes of different interfaces: ").concat(be.stringify(b)," ").concat(be.stringify(O)));if(T.children.splice(k,1),r)for(var[y,I]of E.points(r))r[I]=Z.transform(y,t);break}case"move_node":{var{path:R,newPath:$}=t;if(D.isAncestor(R,$))throw new Error("Cannot move a path [".concat(R,"] to new path [").concat($,"] because the destination is inside itself."));var G=M.get(e,R),N=M.parent(e,R),W=R[R.length-1];N.children.splice(W,1);var j=D.transform(R,t),z=M.get(e,D.parent(j)),ee=j[j.length-1];if(z.children.splice(ee,0,G),r)for(var[K,ie]of E.points(r))r[ie]=Z.transform(K,t);break}case"remove_node":{var{path:J}=t,te=J[J.length-1],he=M.parent(e,J);if(he.children.splice(te,1),r)for(var[oe,pe]of E.points(r)){var C=Z.transform(oe,t);if(r!=null&&C!=null)r[pe]=C;else{var x=void 0,S=void 0;for(var[L,_]of M.texts(e))if(D.compare(_,J)===-1)x=[L,_];else{S=[L,_];break}var U=!1;x&&S&&(D.equals(S[1],J)?U=!D.hasPrevious(S[1]):U=D.common(x[1],J).length<D.common(S[1],J).length),x&&!U?(oe.path=x[1],oe.offset=x[0].text.length):S?(oe.path=S[1],oe.offset=0):r=null}}break}case"remove_text":{var{path:Q,offset:se,text:ne}=t;if(ne.length===0)break;var le=M.leaf(e,Q),re=le.text.slice(0,se),me=le.text.slice(se+ne.length);if(le.text=re+me,r)for(var[Ce,ge]of E.points(r))r[ge]=Z.transform(Ce,t);break}case"set_node":{var{path:ze,properties:Ve,newProperties:Pe}=t;if(ze.length===0)throw new Error("Cannot set properties on the root node!");var Le=M.get(e,ze);for(var ce in Pe){if(ce==="children"||ce==="text")throw new Error('Cannot set the "'.concat(ce,'" property of nodes!'));var Fe=Pe[ce];Fe==null?delete Le[ce]:Le[ce]=Fe}for(var Be in Ve)Pe.hasOwnProperty(Be)||delete Le[Be];break}case"set_selection":{var{newProperties:Ee}=t;if(Ee==null)r=Ee;else{if(r==null){if(!E.isRange(Ee))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(be.stringify(Ee)," when there is no current selection."));r=Mr({},Ee)}for(var $e in Ee){var et=Ee[$e];if(et==null){if($e==="anchor"||$e==="focus")throw new Error('Cannot remove the "'.concat($e,'" selection property'));delete r[$e]}else r[$e]=et}}break}case"split_node":{var{path:We,position:or,properties:rt}=t;if(We.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(We,"] because the root node cannot be split."));var lr=M.get(e,We),As=M.parent(e,We),Fs=We[We.length-1],$t;if(H.isText(lr)){var ys=lr.text.slice(0,or),Os=lr.text.slice(or);lr.text=ys,$t=Mr(Mr({},rt),{},{text:Os})}else{var Ss=lr.children.slice(0,or),xs=lr.children.slice(or);lr.children=Ss,$t=Mr(Mr({},rt),{},{children:xs})}if(As.children.splice(Fs+1,0,$t),r)for(var[Ps,Rs]of E.points(r))r[Rs]=Z.transform(Ps,t);break}}return r},Di={transform(e,r){e.children=Xn(e.children);var t=e.selection&&Xn(e.selection);try{t=gi(e,t,r)}finally{e.children=Jn(e.children),t?e.selection=gr(t)?Jn(t):t:e.selection=null}}},pi={insertNodes(e,r,t){e.insertNodes(r,t)},liftNodes(e,r){e.liftNodes(r)},mergeNodes(e,r){e.mergeNodes(r)},moveNodes(e,r){e.moveNodes(r)},removeNodes(e,r){e.removeNodes(r)},setNodes(e,r,t){e.setNodes(r,t)},splitNodes(e,r){e.splitNodes(r)},unsetNodes(e,r,t){e.unsetNodes(r,t)},unwrapNodes(e,r){e.unwrapNodes(r)},wrapNodes(e,r,t){e.wrapNodes(r,t)}},mi={collapse(e,r){e.collapse(r)},deselect(e){e.deselect()},move(e,r){e.move(r)},select(e,r){e.select(r)},setPoint(e,r,t){e.setPoint(r,t)},setSelection(e,r){e.setSelection(r)}},Pu=(e,r)=>{for(var t in e){var n=e[t],a=r[t];if(we(n)&&we(a)){if(!Pu(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var s in r)if(e[s]===void 0&&r[s]!==void 0)return!1;return!0};function Ci(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function Qe(e,r){if(e==null)return{};var t=Ci(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var Bi=["anchor","focus"];function ra(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ei(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ra(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ra(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var E={edges(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:t=!1}=r,{anchor:n,focus:a}=e;return E.isBackward(e)===t?[n,a]:[a,n]},end(e){var[,r]=E.edges(e);return r},equals(e,r){return Z.equals(e.anchor,r.anchor)&&Z.equals(e.focus,r.focus)},includes(e,r){if(E.isRange(r)){if(E.includes(e,r.anchor)||E.includes(e,r.focus))return!0;var[t,n]=E.edges(e),[a,u]=E.edges(r);return Z.isBefore(t,a)&&Z.isAfter(n,u)}var[s,i]=E.edges(e),c=!1,f=!1;return Z.isPoint(r)?(c=Z.compare(r,s)>=0,f=Z.compare(r,i)<=0):(c=D.compare(r,s.path)>=0,f=D.compare(r,i.path)<=0),c&&f},intersection(e,r){var t=Qe(e,Bi),[n,a]=E.edges(e),[u,s]=E.edges(r),i=Z.isBefore(n,u)?u:n,c=Z.isBefore(a,s)?a:s;return Z.isBefore(c,i)?null:Ei({anchor:i,focus:c},t)},isBackward(e){var{anchor:r,focus:t}=e;return Z.isAfter(r,t)},isCollapsed(e){var{anchor:r,focus:t}=e;return Z.equals(r,t)},isExpanded(e){return!E.isCollapsed(e)},isForward(e){return!E.isBackward(e)},isRange(e){return we(e)&&Z.isPoint(e.anchor)&&Z.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[r]=E.edges(e);return r},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yn(e,n=>{if(n===null)return null;var{affinity:a="inward"}=t,u,s;if(a==="inward"){var i=E.isCollapsed(n);E.isForward(n)?(u="forward",s=i?u:"backward"):(u="backward",s=i?u:"forward")}else a==="outward"?E.isForward(n)?(u="backward",s="forward"):(u="forward",s="backward"):(u=a,s=a);var c=Z.transform(n.anchor,r,{affinity:u}),f=Z.transform(n.focus,r,{affinity:s});if(!c||!f)return null;n.anchor=c,n.focus=f})}},ta=e=>we(e)&&M.isNodeList(e.children)&&!l.isEditor(e),q={isAncestor(e){return we(e)&&M.isNodeList(e.children)},isElement:ta,isElementList(e){return Array.isArray(e)&&e.every(r=>q.isElement(r))},isElementProps(e){return e.children!==void 0},isElementType:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return ta(r)&&r[n]===t},matches(e,r){for(var t in r)if(t!=="children"&&e[t]!==r[t])return!1;return!0}},bi=["children"],wi=["text"],na=new WeakMap,M={ancestor(e,r){var t=M.get(e,r);if(H.isText(t))throw new Error("Cannot get the ancestor node at path [".concat(r,"] because it refers to a text node instead: ").concat(be.stringify(t)));return t},ancestors(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of D.ancestors(r,t)){var a=M.ancestor(e,n),u=[a,n];yield u}}()},child(e,r){if(H.isText(e))throw new Error("Cannot get the child of a text node: ".concat(be.stringify(e)));var t=e.children[r];if(t==null)throw new Error("Cannot get child at index `".concat(r,"` in node: ").concat(be.stringify(e)));return t},children(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=t,a=M.ancestor(e,r),{children:u}=a,s=n?u.length-1:0;n?s>=0:s<u.length;){var i=M.child(a,s),c=r.concat(s);yield[i,c],s=n?s-1:s+1}}()},common(e,r,t){var n=D.common(r,t),a=M.get(e,n);return[a,n]},descendant(e,r){var t=M.get(e,r);if(l.isEditor(t))throw new Error("Cannot get the descendant node at path [".concat(r,"] because it refers to the root editor node instead: ").concat(be.stringify(t)));return t},descendants(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of M.nodes(e,r))n.length!==0&&(yield[t,n])}()},elements(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of M.nodes(e,r))q.isElement(t)&&(yield[t,n])}()},extractProps(e){if(q.isAncestor(e)){var r=Qe(e,bi);return r}else{var r=Qe(e,wi);return r}},first(e,r){for(var t=r.slice(),n=M.get(e,t);n&&!(H.isText(n)||n.children.length===0);)n=n.children[0],t.push(0);return[n,t]},fragment(e,r){if(H.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(be.stringify(e)));var t=yn({children:e.children},n=>{var[a,u]=E.edges(r),s=M.nodes(n,{reverse:!0,pass:h=>{var[,p]=h;return!E.includes(r,p)}});for(var[,i]of s){if(!E.includes(r,i)){var c=M.parent(n,i),f=i[i.length-1];c.children.splice(f,1)}if(D.equals(i,u.path)){var d=M.leaf(n,i);d.text=d.text.slice(0,u.offset)}if(D.equals(i,a.path)){var v=M.leaf(n,i);v.text=v.text.slice(a.offset)}}l.isEditor(n)&&(n.selection=null)});return t.children},get(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(H.isText(t)||!t.children[a])throw new Error("Cannot find a descendant at path [".concat(r,"] in node: ").concat(be.stringify(e)));t=t.children[a]}return t},has(e,r){for(var t=e,n=0;n<r.length;n++){var a=r[n];if(H.isText(t)||!t.children[a])return!1;t=t.children[a]}return!0},isNode(e){return H.isText(e)||q.isElement(e)||l.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var r=na.get(e);if(r!==void 0)return r;var t=e.every(n=>M.isNode(n));return na.set(e,t),t},last(e,r){for(var t=r.slice(),n=M.get(e,t);n&&!(H.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],t.push(a)}return[n,t]},leaf(e,r){var t=M.get(e,r);if(!H.isText(t))throw new Error("Cannot get the leaf node at path [".concat(r,"] because it refers to a non-leaf node: ").concat(be.stringify(t)));return t},levels(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of D.levels(r,t)){var a=M.get(e,n);yield[a,n]}}()},matches(e,r){return q.isElement(e)&&q.isElementProps(r)&&q.matches(e,r)||H.isText(e)&&H.isTextProps(r)&&H.matches(e,r)},nodes(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:t,reverse:n=!1}=r,{from:a=[],to:u}=r,s=new Set,i=[],c=e;!(u&&(n?D.isBefore(i,u):D.isAfter(i,u)));){if(s.has(c)||(yield[c,i]),!s.has(c)&&!H.isText(c)&&c.children.length!==0&&(t==null||t([c,i])===!1)){s.add(c);var f=n?c.children.length-1:0;D.isAncestor(i,a)&&(f=a[i.length]),i=i.concat(f),c=M.get(e,i);continue}if(i.length===0)break;if(!n){var d=D.next(i);if(M.has(e,d)){i=d,c=M.get(e,i);continue}}if(n&&i[i.length-1]!==0){var v=D.previous(i);i=v,c=M.get(e,i);continue}i=D.parent(i),c=M.get(e,i),s.add(c)}}()},parent(e,r){var t=D.parent(r),n=M.get(e,t);if(H.isText(n))throw new Error("Cannot get the parent of path [".concat(r,"] because it does not exist in the root."));return n},string(e){return H.isText(e)?e.text:e.children.map(M.string).join("")},texts(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[t,n]of M.nodes(e,r))H.isText(t)&&(yield[t,n])}()}};function aa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function fe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?aa(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):aa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ar={isNodeOperation(e){return ar.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!we(e))return!1;switch(e.type){case"insert_node":return D.isPath(e.path)&&M.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&D.isPath(e.path);case"merge_node":return typeof e.position=="number"&&D.isPath(e.path)&&we(e.properties);case"move_node":return D.isPath(e.path)&&D.isPath(e.newPath);case"remove_node":return D.isPath(e.path)&&M.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&D.isPath(e.path);case"set_node":return D.isPath(e.path)&&we(e.properties)&&we(e.newProperties);case"set_selection":return e.properties===null&&E.isRange(e.newProperties)||e.newProperties===null&&E.isRange(e.properties)||we(e.properties)&&we(e.newProperties);case"split_node":return D.isPath(e.path)&&typeof e.position=="number"&&we(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(r=>ar.isOperation(r))},isSelectionOperation(e){return ar.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return ar.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return fe(fe({},e),{},{type:"remove_node"});case"insert_text":return fe(fe({},e),{},{type:"remove_text"});case"merge_node":return fe(fe({},e),{},{type:"split_node",path:D.previous(e.path)});case"move_node":{var{newPath:r,path:t}=e;if(D.equals(r,t))return e;if(D.isSibling(t,r))return fe(fe({},e),{},{path:r,newPath:t});var n=D.transform(t,e),a=D.transform(D.next(t),e);return fe(fe({},e),{},{path:n,newPath:a})}case"remove_node":return fe(fe({},e),{},{type:"insert_node"});case"remove_text":return fe(fe({},e),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:s}=e;return fe(fe({},e),{},{properties:s,newProperties:u})}case"set_selection":{var{properties:i,newProperties:c}=e;return i==null?fe(fe({},e),{},{properties:c,newProperties:null}):c==null?fe(fe({},e),{},{properties:null,newProperties:i}):fe(fe({},e),{},{properties:c,newProperties:i})}case"split_node":return fe(fe({},e),{},{type:"merge_node",path:D.next(e.path)})}}},ua=new WeakMap,Ai=e=>{var r=ua.get(e);if(r!==void 0)return r;if(!we(e))return!1;var t=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||we(e.marks))&&(e.selection===null||E.isRange(e.selection))&&M.isNodeList(e.children)&&ar.isOperationList(e.operations);return ua.set(e,t),t},l={above(e,r){return e.above(r)},addMark(e,r,t){e.addMark(r,t)},after(e,r,t){return e.after(r,t)},before(e,r,t){return e.before(r,t)},deleteBackward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteBackward(t)},deleteForward(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:t="character"}=r;e.deleteForward(t)},deleteFragment(e,r){e.deleteFragment(r)},edges(e,r){return e.edges(r)},elementReadOnly(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(r)},end(e,r){return e.end(r)},first(e,r){return e.first(r)},fragment(e,r){return e.fragment(r)},hasBlocks(e,r){return e.hasBlocks(r)},hasInlines(e,r){return e.hasInlines(r)},hasPath(e,r){return e.hasPath(r)},hasTexts(e,r){return e.hasTexts(r)},insertBreak(e){e.insertBreak()},insertFragment(e,r,t){e.insertFragment(r,t)},insertNode(e,r){e.insertNode(r)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,r){e.insertText(r)},isBlock(e,r){return e.isBlock(r)},isEdge(e,r,t){return e.isEdge(r,t)},isEditor(e){return Ai(e)},isElementReadOnly(e,r){return e.isElementReadOnly(r)},isEmpty(e,r){return e.isEmpty(r)},isEnd(e,r,t){return e.isEnd(r,t)},isInline(e,r){return e.isInline(r)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,r){return e.isSelectable(r)},isStart(e,r,t){return e.isStart(r,t)},isVoid(e,r){return e.isVoid(r)},last(e,r){return e.last(r)},leaf(e,r,t){return e.leaf(r,t)},levels(e,r){return e.levels(r)},marks(e){return e.getMarks()},next(e,r){return e.next(r)},node(e,r,t){return e.node(r,t)},nodes(e,r){return e.nodes(r)},normalize(e,r){e.normalize(r)},parent(e,r,t){return e.parent(r,t)},path(e,r,t){return e.path(r,t)},pathRef(e,r,t){return e.pathRef(r,t)},pathRefs(e){return e.pathRefs()},point(e,r,t){return e.point(r,t)},pointRef(e,r,t){return e.pointRef(r,t)},pointRefs(e){return e.pointRefs()},positions(e,r){return e.positions(r)},previous(e,r){return e.previous(r)},range(e,r,t){return e.range(r,t)},rangeRef(e,r,t){return e.rangeRef(r,t)},rangeRefs(e){return e.rangeRefs()},removeMark(e,r){e.removeMark(r)},setNormalizing(e,r){e.setNormalizing(r)},start(e,r){return e.start(r)},string(e,r,t){return e.string(r,t)},unhangRange(e,r,t){return e.unhangRange(r,t)},void(e,r){return e.void(r)},withoutNormalizing(e,r){e.withoutNormalizing(r)},shouldMergeNodesRemovePrevNode:(e,r,t)=>e.shouldMergeNodesRemovePrevNode(r,t)},Fi={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(D.isPath)}};function sa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ia(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?sa(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Z={compare(e,r){var t=D.compare(e.path,r.path);return t===0?e.offset<r.offset?-1:e.offset>r.offset?1:0:t},isAfter(e,r){return Z.compare(e,r)===1},isBefore(e,r){return Z.compare(e,r)===-1},equals(e,r){return e.offset===r.offset&&D.equals(e.path,r.path)},isPoint(e){return we(e)&&typeof e.offset=="number"&&D.isPath(e.path)},transform(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yn(e,n=>{if(n===null)return null;var{affinity:a="forward"}=t,{path:u,offset:s}=n;switch(r.type){case"insert_node":case"move_node":{n.path=D.transform(u,r,t);break}case"insert_text":{D.equals(r.path,u)&&(r.offset<s||r.offset===s&&a==="forward")&&(n.offset+=r.text.length);break}case"merge_node":{D.equals(r.path,u)&&(n.offset+=r.position),n.path=D.transform(u,r,t);break}case"remove_text":{D.equals(r.path,u)&&r.offset<=s&&(n.offset-=Math.min(s-r.offset,r.text.length));break}case"remove_node":{if(D.equals(r.path,u)||D.isAncestor(r.path,u))return null;n.path=D.transform(u,r,t);break}case"split_node":{if(D.equals(r.path,u)){if(r.position===s&&a==null)return null;(r.position<s||r.position===s&&a==="forward")&&(n.offset-=r.position,n.path=D.transform(u,r,ia(ia({},t),{},{affinity:"forward"})))}else n.path=D.transform(u,r,t);break}}})}},oa=void 0,be={setScrubber(e){oa=e},stringify(e){return JSON.stringify(e,oa)}},yi=["text"],Oi=["anchor","focus"];function la(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Je(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?la(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):la(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var H={equals(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=t;function a(u){var s=Qe(u,yi);return s}return Pu(n?a(e):e,n?a(r):r)},isText(e){return we(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(r=>H.isText(r))},isTextProps(e){return e.text!==void 0},matches(e,r){for(var t in r)if(t!=="text"&&(!e.hasOwnProperty(t)||e[t]!==r[t]))return!1;return!0},decorations(e,r){var t=[Je({},e)];for(var n of r){var a=Qe(n,Oi),[u,s]=E.edges(n),i=[],c=0,f=u.offset,d=s.offset;for(var v of t){var{length:h}=v.text,p=c;if(c+=h,f<=p&&c<=d){Object.assign(v,a),i.push(v);continue}if(f!==d&&(f===c||d===p)||f>c||d<p||d===p&&p!==0){i.push(v);continue}var g=v,o=void 0,m=void 0;if(d<c){var B=d-p;m=Je(Je({},g),{},{text:g.text.slice(B)}),g=Je(Je({},g),{},{text:g.text.slice(0,B)})}if(f>p){var b=f-p;o=Je(Je({},g),{},{text:g.text.slice(0,b)}),g=Je(Je({},g),{},{text:g.text.slice(b)})}Object.assign(g,a),o&&i.push(o),i.push(g),m&&i.push(m)}t=i}return t}},On=e=>e.selection?e.selection:e.children.length>0?l.end(e,[]):[0],Tr=(e,r)=>{var[t]=l.node(e,r);return n=>n===t},Sn=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!t,a=t?Ni(r):r,u=X.None,s=X.None,i=0,c=null,f=null;for(var d of a){var v=d.codePointAt(0);if(!v)break;var h=Ki(d,v);if([u,s]=n?[s,h]:[h,u],br(u,X.ZWJ)&&br(s,X.ExtPict)&&(n?c=ca(r.substring(0,i)):c=ca(r.substring(0,r.length-i)),!c)||br(u,X.RI)&&br(s,X.RI)&&(f!==null?f=!f:n?f=!0:f=Ji(r.substring(0,r.length-i)),!f)||u!==X.None&&s!==X.None&&Gi(u,s))break;i+=d.length}return i||1},Si=/\s/,xi=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Pi=/['\u2018\u2019]/,Ri=function(r){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;r.length>0;){var u=Sn(r,t),[s,i]=xn(r,u,t);if(Ti(s,i,t))a=!0,n+=u;else if(!a)n+=u;else break;r=i}return n},xn=(e,r,t)=>{if(t){var n=e.length-r;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,r),e.slice(r)]},Ti=function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Si.test(r))return!1;if(Pi.test(r)){var a=Sn(t,n),[u,s]=xn(t,a,n);if(e(u,s,n))return!0}return!xi.test(r)},Ni=function*(r){for(var t=r.length-1,n=0;n<r.length;n++){var a=r.charAt(t-n);if(ji(a.charCodeAt(0))){var u=r.charAt(t-n-1);if(Mi(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},Mi=e=>e>=55296&&e<=56319,ji=e=>e>=56320&&e<=57343,X;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(X||(X={}));var ki=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Ii=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,zi=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Li=/^[\u1100-\u115F\uA960-\uA97C]$/,$i=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Wi=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,qi=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Hi=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Vi=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Ki=(e,r)=>{var t=X.Any;return e.search(ki)!==-1&&(t|=X.Extend),r===8205&&(t|=X.ZWJ),r>=127462&&r<=127487&&(t|=X.RI),e.search(Ii)!==-1&&(t|=X.Prepend),e.search(zi)!==-1&&(t|=X.SpacingMark),e.search(Li)!==-1&&(t|=X.L),e.search($i)!==-1&&(t|=X.V),e.search(Wi)!==-1&&(t|=X.T),e.search(qi)!==-1&&(t|=X.LV),e.search(Hi)!==-1&&(t|=X.LVT),e.search(Vi)!==-1&&(t|=X.ExtPict),t};function br(e,r){return(e&r)!==0}var Ui=[[X.L,X.L|X.V|X.LV|X.LVT],[X.LV|X.V,X.V|X.T],[X.LVT|X.T,X.T],[X.Any,X.Extend|X.ZWJ],[X.Any,X.SpacingMark],[X.Prepend,X.Any],[X.ZWJ,X.ExtPict],[X.RI,X.RI]];function Gi(e,r){return Ui.findIndex(t=>br(e,t[0])&&br(r,t[1]))===-1}var Yi=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,ca=e=>e.search(Yi)!==-1,Xi=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Ji=e=>{var r=e.match(Xi);if(r===null)return!1;var t=r[0].length/2;return t%2===1},Zi={delete(e,r){e.delete(r)},insertFragment(e,r,t){e.insertFragment(r,t)},insertText(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(e,()=>{var{voids:n=!1}=t,{at:a=On(e)}=t;if(D.isPath(a)&&(a=l.range(e,a)),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var u=E.end(a);if(!n&&l.void(e,{at:u}))return;var s=E.start(a),i=l.pointRef(e,s),c=l.pointRef(e,u);w.delete(e,{at:a,voids:n});var f=i.unref(),d=c.unref();a=f||d,w.setSelection(e,{anchor:a,focus:a})}if(!(!n&&l.void(e,{at:a})||l.elementReadOnly(e,{at:a}))){var{path:v,offset:h}=a;r.length>0&&e.apply({type:"insert_text",path:v,offset:h,text:r})}})}};function fa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function at(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fa(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var w=at(at(at(at({},Di),pi),mi),Zi),dt=new WeakMap,_i=e=>dt.get(e)||!1,Qi=(e,r,t)=>{var n=dt.get(e)||!1;dt.set(e,!0);try{r(),t()}finally{dt.set(e,n)}};function Ru(e,r,t){var n=bt.get(e)||[],a=wt.get(e)||new Set,u,s,i=v=>{if(v){var h=v.join(",");s.has(h)||(s.add(h),u.push(v))}};if(t){u=[],s=new Set;for(var c of n){var f=t(c);i(f)}}else u=n,s=a;for(var d of r)i(d);bt.set(e,u),wt.set(e,s)}var eo=(e,r)=>{for(var t of l.pathRefs(e))ci.transform(t,r);for(var n of l.pointRefs(e))fi.transform(n,r);for(var a of l.rangeRefs(e))di.transform(a,r);if(!_i(e)){var u=D.operationCanTransformPath(r)?s=>D.transform(s,r):void 0;Ru(e,e.getDirtyPaths(r),u)}w.transform(e,r),e.operations.push(r),l.normalize(e,{operation:r}),r.type==="set_selection"&&(e.marks=null),Ir.get(e)||(Ir.set(e,!0),Promise.resolve().then(()=>{Ir.set(e,!1),e.onChange({operation:r}),e.operations=[]}))},ro=(e,r)=>{switch(r.type){case"insert_text":case"remove_text":case"set_node":{var{path:t}=r;return D.levels(t)}case"insert_node":{var{node:n,path:a}=r,u=D.levels(a),s=H.isText(n)?[]:Array.from(M.nodes(n),$=>{var[,G]=$;return a.concat(G)});return[...u,...s]}case"merge_node":{var{path:i}=r,c=D.ancestors(i),f=D.previous(i);return[...c,f]}case"move_node":{var{path:d,newPath:v}=r;if(D.equals(d,v))return[];var h=[],p=[];for(var g of D.ancestors(d)){var o=D.transform(g,r);h.push(o)}for(var m of D.ancestors(v)){var B=D.transform(m,r);p.push(B)}var b=p[p.length-1],F=v[v.length-1],O=b.concat(F);return[...h,...p,O]}case"remove_node":{var{path:T}=r,k=D.ancestors(T);return[...k]}case"split_node":{var{path:y}=r,I=D.levels(y),R=D.next(y);return[...I,R]}default:return[]}},to=e=>{var{selection:r}=e;return r?M.fragment(e,r):[]},no=(e,r)=>{var[t,n]=r;if(!H.isText(t)){if(q.isElement(t)&&t.children.length===0){var a={text:""};w.insertNodes(e,a,{at:n.concat(0),voids:!0});return}for(var u=l.isEditor(t)?!1:q.isElement(t)&&(e.isInline(t)||t.children.length===0||H.isText(t.children[0])||e.isInline(t.children[0])),s=0,i=0;i<t.children.length;i++,s++){var c=M.get(e,n);if(!H.isText(c)){var f=c.children[s],d=c.children[s-1],v=i===t.children.length-1,h=H.isText(f)||q.isElement(f)&&e.isInline(f);if(h!==u)w.removeNodes(e,{at:n.concat(s),voids:!0}),s--;else if(q.isElement(f)){if(e.isInline(f)){if(d==null||!H.isText(d)){var p={text:""};w.insertNodes(e,p,{at:n.concat(s),voids:!0}),s++}else if(v){var g={text:""};w.insertNodes(e,g,{at:n.concat(s+1),voids:!0}),s++}}}else{if(!H.isText(f)&&!("children"in f)){var o=f;o.children=[]}d!=null&&H.isText(d)&&(H.equals(f,d,{loose:!0})?(w.mergeNodes(e,{at:n.concat(s),voids:!0}),s--):d.text===""?(w.removeNodes(e,{at:n.concat(s-1),voids:!0}),s--):f.text===""&&(w.removeNodes(e,{at:n.concat(s),voids:!0}),s--))}}}}},ao=(e,r)=>{var{iteration:t,initialDirtyPathsLength:n}=r,a=n*42;if(t>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},uo=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:u=r.selection,match:s}=t;if(u){var i=l.path(r,u),c=a==="lowest";for(var[f,d]of l.levels(r,{at:i,voids:n,match:s,reverse:c}))if(!H.isText(f)){if(E.isRange(u)){if(D.isAncestor(d,u.anchor.path)&&D.isAncestor(d,u.focus.path))return[f,d]}else if(!D.equals(i,d))return[f,d]}}};function da(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function va(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?da(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):da(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var so=(e,r,t)=>{var{selection:n}=e;if(n){var a=(v,h)=>{if(!H.isText(v))return!1;var[p,g]=l.parent(e,h);return!e.isVoid(p)||e.markableVoid(p)},u=E.isExpanded(n),s=!1;if(!u){var[i,c]=l.node(e,n);if(i&&a(i,c)){var[f]=l.parent(e,c);s=f&&e.markableVoid(f)}}if(u||s)w.setNodes(e,{[r]:t},{match:a,split:!0,voids:!0});else{var d=va(va({},l.marks(e)||{}),{},{[r]:t});e.marks=d,Ir.get(e)||e.onChange()}}};function ha(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ga(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ha(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ha(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var io=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.point(r,t,{edge:"end"}),u=l.end(r,[]),s={anchor:a,focus:u},{distance:i=1}=n,c=0,f;for(var d of l.positions(r,ga(ga({},n),{},{at:s}))){if(c>i)break;c!==0&&(f=d),c++}return f};function Da(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function pa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Da(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Da(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var oo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.start(r,[]),u=l.point(r,t,{edge:"start"}),s={anchor:a,focus:u},{distance:i=1}=n,c=0,f;for(var d of l.positions(r,pa(pa({},n),{},{at:s,reverse:!0}))){if(c>i)break;c!==0&&(f=d),c++}return f},lo=(e,r)=>{var{selection:t}=e;t&&E.isCollapsed(t)&&w.delete(e,{unit:r,reverse:!0})},co=(e,r)=>{var{selection:t}=e;t&&E.isCollapsed(t)&&w.delete(e,{unit:r})},fo=function(r){var{direction:t="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r;n&&E.isExpanded(n)&&w.delete(r,{reverse:t==="backward"})},vo=(e,r)=>[l.start(e,r),l.end(e,r)];function ma(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ca(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ma(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ma(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var ho=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.above(r,Ca(Ca({},t),{},{match:n=>q.isElement(n)&&l.isElementReadOnly(r,n)}))},go=(e,r)=>l.point(e,r,{edge:"end"}),Do=(e,r)=>{var t=l.path(e,r,{edge:"start"});return l.node(e,t)},po=(e,r)=>{var t=l.range(e,r);return M.fragment(e,t)};function Ba(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ea(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ba(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ba(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var mo=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.above(r,Ea(Ea({},t),{},{match:n=>q.isElement(n)&&l.isVoid(r,n)}))},Co=(e,r)=>r.children.some(t=>q.isElement(t)&&l.isBlock(e,t)),Bo=(e,r)=>r.children.some(t=>H.isText(t)||l.isInline(e,t)),Eo=(e,r)=>M.has(e,r),bo=(e,r)=>r.children.every(t=>H.isText(t)),wo=e=>{w.splitNodes(e,{always:!0})},Ao=(e,r,t)=>{w.insertNodes(e,r,t)},Fo=e=>{w.splitNodes(e,{always:!0})};function ba(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function yo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ba(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ba(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Oo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:u}=r;if(a){if(u){var s=yo({text:t},u);w.insertNodes(r,s,{at:n.at,voids:n.voids})}else w.insertText(r,t,n);r.marks=null}},So=(e,r)=>!e.isInline(r),xo=(e,r,t)=>l.isStart(e,r,t)||l.isEnd(e,r,t),Po=(e,r)=>{var{children:t}=r,[n]=t;return t.length===0||t.length===1&&H.isText(n)&&n.text===""&&!e.isVoid(r)},Ro=(e,r,t)=>{var n=l.end(e,t);return Z.equals(r,n)},To=e=>{var r=xu.get(e);return r===void 0?!0:r},No=(e,r,t)=>{if(r.offset!==0)return!1;var n=l.start(e,t);return Z.equals(r,n)},Mo=(e,r)=>{var t=l.path(e,r,{edge:"end"});return l.node(e,t)},jo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.path(r,t,n),u=M.leaf(r,a);return[u,a]};function ko(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=e.selection,reverse:n=!1,voids:a=!1}=r,{match:u}=r;if(u==null&&(u=()=>!0),!!t){var s=[],i=l.path(e,t);for(var[c,f]of M.levels(e,i))if(u(c,f)&&(s.push([c,f]),!a&&q.isElement(c)&&l.isVoid(e,c)))break;n&&s.reverse(),yield*s}}()}var Io=["text"],zo=["text"],Lo=function(r){var{marks:t,selection:n}=r;if(!n)return null;var{anchor:a,focus:u}=n;if(t)return t;if(E.isExpanded(n)){var s=l.isEnd(r,a,a.path);if(s){var i=l.after(r,a);i&&(a=i)}var[c]=l.nodes(r,{match:H.isText,at:{anchor:a,focus:u}});if(c){var[f]=c,d=Qe(f,Io);return d}else return{}}var{path:v}=a,[h]=l.leaf(r,v);if(a.offset===0){var p=l.previous(r,{at:v,match:H.isText}),g=l.above(r,{match:O=>q.isElement(O)&&l.isVoid(r,O)&&r.markableVoid(O)});if(!g){var o=l.above(r,{match:O=>q.isElement(O)&&l.isBlock(r,O)});if(p&&o){var[m,B]=p,[,b]=o;D.isAncestor(b,B)&&(h=m)}}}var F=Qe(h,zo);return F},$o=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var i=l.after(r,s,{voids:a});if(i){var[,c]=l.last(r,[]),f=[i.path,c];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(D.isPath(s)){var[d]=l.parent(r,s);u=h=>d.children.includes(h)}else u=()=>!0;var[v]=l.nodes(r,{at:f,match:u,mode:n,voids:a});return v}}},Wo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.path(r,t,n),u=M.get(r,a);return[u,a]};function qo(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=e.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:s=!1,ignoreNonSelectable:i=!1}=r,{match:c}=r;if(c||(c=()=>!0),!!t){var f,d;if(Fi.isSpan(t))f=t[0],d=t[1];else{var v=l.path(e,t,{edge:"start"}),h=l.path(e,t,{edge:"end"});f=u?h:v,d=u?v:h}var p=M.nodes(e,{reverse:u,from:f,to:d,pass:O=>{var[T]=O;return q.isElement(T)?!!(!s&&(l.isVoid(e,T)||l.isElementReadOnly(e,T))||i&&!l.isSelectable(e,T)):!1}}),g=[],o;for(var[m,B]of p)if(!(i&&q.isElement(m)&&!l.isSelectable(e,m))){var b=o&&D.compare(B,o[1])===0;if(!(n==="highest"&&b)){if(!c(m,B)){if(a&&!b&&H.isText(m))return;continue}if(n==="lowest"&&b){o=[m,B];continue}var F=n==="lowest"?o:[m,B];F&&(a?g.push(F):yield F),o=[m,B]}}n==="lowest"&&o&&(a?g.push(o):yield o),a&&(yield*g)}}()}var Ho=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=t,u=d=>bt.get(d)||[],s=d=>wt.get(d)||new Set,i=d=>{var v=u(d).pop(),h=v.join(",");return s(d).delete(h),v};if(l.isNormalizing(r)){if(n){var c=Array.from(M.nodes(r),d=>{var[,v]=d;return v}),f=new Set(c.map(d=>d.join(",")));bt.set(r,c),wt.set(r,f)}u(r).length!==0&&l.withoutNormalizing(r,()=>{for(var d of u(r))if(M.has(r,d)){var v=l.node(r,d),[h,p]=v;q.isElement(h)&&h.children.length===0&&r.normalizeNode(v,{operation:a})}for(var g=u(r),o=g.length,m=0;g.length!==0;){if(!r.shouldNormalize({dirtyPaths:g,iteration:m,initialDirtyPathsLength:o,operation:a}))return;var B=i(r);if(M.has(r,B)){var b=l.node(r,B);r.normalizeNode(b,{operation:a})}m++,g=u(r)}})}},Vo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=l.path(r,t,n),u=D.parent(a),s=l.node(r,u);return s},Ko=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,c=l.pathRefs(r);return c.delete(u),u.current=null,i}},s=l.pathRefs(r);return s.add(u),u},Uo=e=>{var r=Zn.get(e);return r||(r=new Set,Zn.set(e,r)),r},Go=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:u}=n;if(D.isPath(t)){if(u==="start"){var[,s]=M.first(r,t);t=s}else if(u==="end"){var[,i]=M.last(r,t);t=i}}return E.isRange(t)&&(u==="start"?t=E.start(t):u==="end"?t=E.end(t):t=D.common(t.anchor.path,t.focus.path)),Z.isPoint(t)&&(t=t.path),a!=null&&(t=t.slice(0,a)),t},Yo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,c=l.pointRefs(r);return c.delete(u),u.current=null,i}},s=l.pointRefs(r);return s.add(u),u},Xo=e=>{var r=_n.get(e);return r||(r=new Set,_n.set(e,r)),r},Jo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(D.isPath(t)){var u;if(a==="end"){var[,s]=M.last(r,t);u=s}else{var[,i]=M.first(r,t);u=i}var c=M.get(r,u);if(!H.isText(c))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(t,"] because it has no ").concat(a," text node."));return{path:u,offset:a==="end"?c.text.length:0}}if(E.isRange(t)){var[f,d]=E.edges(t);return a==="start"?f:d}return t};function Zo(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:t=e.selection,unit:n="offset",reverse:a=!1,voids:u=!1,ignoreNonSelectable:s=!1}=r;if(!t)return;var i=l.range(e,t),[c,f]=E.edges(i),d=a?f:c,v=!1,h="",p=0,g=0,o=0;for(var[m,B]of l.nodes(e,{at:t,reverse:a,voids:u,ignoreNonSelectable:s})){if(q.isElement(m)){if(!u&&(e.isVoid(m)||e.isElementReadOnly(m))){yield l.start(e,B);continue}if(e.isInline(m))continue;if(l.hasInlines(e,m)){var b=D.isAncestor(B,f.path)?f:l.end(e,B),F=D.isAncestor(B,c.path)?c:l.start(e,B);h=l.string(e,{anchor:F,focus:b},{voids:u}),v=!0}}if(H.isText(m)){var O=D.equals(B,d.path);for(O?(g=a?d.offset:m.text.length-d.offset,o=d.offset):(g=m.text.length,o=a?g:0),(O||v||n==="offset")&&(yield{path:B,offset:o},v=!1);;){if(p===0){if(h==="")break;p=T(h,n,a),h=xn(h,p,a)[1]}if(o=a?o-p:o+p,g=g-p,g<0){p=-g;break}p=0,yield{path:B,offset:o}}}}function T(k,y,I){return y==="character"?Sn(k,I):y==="word"?Ri(k,I):y==="line"||y==="block"?k.length:1}}()}var _o=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection}=t;if(s){var i=l.before(r,s,{voids:a});if(i){var[,c]=l.first(r,[]),f=[i.path,c];if(D.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(D.isPath(s)){var[d]=l.parent(r,s);u=h=>d.children.includes(h)}else u=()=>!0;var[v]=l.nodes(r,{reverse:!0,at:f,match:u,mode:n,voids:a});return v}}},Qo=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:t,affinity:a,unref(){var{current:i}=u,c=l.rangeRefs(r);return c.delete(u),u.current=null,i}},s=l.rangeRefs(r);return s.add(u),u},el=e=>{var r=Qn.get(e);return r||(r=new Set,Qn.set(e,r)),r},rl=(e,r,t)=>{if(E.isRange(r)&&!t)return r;var n=l.start(e,r),a=l.end(e,t||r);return{anchor:n,focus:a}};function wa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function tl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wa(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nl=(e,r)=>{var{selection:t}=e;if(t){var n=(d,v)=>{if(!H.isText(d))return!1;var[h,p]=l.parent(e,v);return!e.isVoid(h)||e.markableVoid(h)},a=E.isExpanded(t),u=!1;if(!a){var[s,i]=l.node(e,t);if(s&&n(s,i)){var[c]=l.parent(e,i);u=c&&e.markableVoid(c)}}if(a||u)w.unsetNodes(e,r,{match:n,split:!0,voids:!0});else{var f=tl({},l.marks(e)||{});delete f[r],e.marks=f,Ir.get(e)||e.onChange()}}},al=(e,r)=>{xu.set(e,r)},ul=(e,r)=>l.point(e,r,{edge:"start"}),sl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,u=l.range(r,t),[s,i]=E.edges(u),c="";for(var[f,d]of l.nodes(r,{at:u,match:H.isText,voids:a})){var v=f.text;D.equals(d,i.path)&&(v=v.slice(0,i.offset)),D.equals(d,s.path)&&(v=v.slice(s.offset)),c+=v}return c},il=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[u,s]=E.edges(t);if(u.offset!==0||s.offset!==0||E.isCollapsed(t)||D.hasPrevious(s.path))return t;var i=l.above(r,{at:s,match:g=>q.isElement(g)&&l.isBlock(r,g),voids:a}),c=i?i[1]:[],f=l.start(r,u),d={anchor:f,focus:s},v=!0;for(var[h,p]of l.nodes(r,{at:d,match:H.isText,reverse:!0,voids:a})){if(v){v=!1;continue}if(h.text!==""||D.isBefore(p,c)){s={path:p,offset:h.text.length};break}}return{anchor:u,focus:s}},ol=(e,r)=>{var t=l.isNormalizing(e);l.setNormalizing(e,!1);try{r()}finally{l.setNormalizing(e,t)}l.normalize(e)},ll=(e,r,t)=>{var[n,a]=r;return q.isElement(n)&&l.isEmpty(e,n)||H.isText(n)&&n.text===""&&a[a.length-1]!==0},cl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var n,a,{reverse:u=!1,unit:s="character",distance:i=1,voids:c=!1}=t,{at:f=r.selection,hanging:d=!1}=t;if(f){var v=!1;if(E.isRange(f)&&E.isCollapsed(f)&&(v=!0,f=f.anchor),Z.isPoint(f)){var h=l.void(r,{at:f,mode:"highest"});if(!c&&h){var[,p]=h;f=p}else{var g={unit:s,distance:i},o=u?l.before(r,f,g)||l.start(r,[]):l.after(r,f,g)||l.end(r,[]);f={anchor:f,focus:o},d=!0}}if(D.isPath(f)){w.removeNodes(r,{at:f,voids:c});return}if(!E.isCollapsed(f)){if(!d){var[,m]=E.edges(f),B=l.end(r,[]);Z.equals(m,B)||(f=l.unhangRange(r,f,{voids:c}))}var[b,F]=E.edges(f),O=l.above(r,{match:re=>q.isElement(re)&&l.isBlock(r,re),at:b,voids:c}),T=l.above(r,{match:re=>q.isElement(re)&&l.isBlock(r,re),at:F,voids:c}),k=O&&T&&!D.equals(O[1],T[1]),y=D.equals(b.path,F.path),I=c?null:(n=l.void(r,{at:b,mode:"highest"}))!==null&&n!==void 0?n:l.elementReadOnly(r,{at:b,mode:"highest"}),R=c?null:(a=l.void(r,{at:F,mode:"highest"}))!==null&&a!==void 0?a:l.elementReadOnly(r,{at:F,mode:"highest"});if(I){var $=l.before(r,b);$&&O&&D.isAncestor(O[1],$.path)&&(b=$)}if(R){var G=l.after(r,F);G&&T&&D.isAncestor(T[1],G.path)&&(F=G)}var N=[],W;for(var j of l.nodes(r,{at:f,voids:c})){var[z,ee]=j;W&&D.compare(ee,W)===0||(!c&&q.isElement(z)&&(l.isVoid(r,z)||l.isElementReadOnly(r,z))||!D.isCommon(ee,b.path)&&!D.isCommon(ee,F.path))&&(N.push(j),W=ee)}var K=Array.from(N,re=>{var[,me]=re;return l.pathRef(r,me)}),ie=l.pointRef(r,b),J=l.pointRef(r,F),te="";if(!y&&!I){var he=ie.current,[oe]=l.leaf(r,he),{path:pe}=he,{offset:C}=b,x=oe.text.slice(C);x.length>0&&(r.apply({type:"remove_text",path:pe,offset:C,text:x}),te=x)}if(K.reverse().map(re=>re.unref()).filter(re=>re!==null).forEach(re=>w.removeNodes(r,{at:re,voids:c})),!R){var S=J.current,[L]=l.leaf(r,S),{path:_}=S,U=y?b.offset:0,Q=L.text.slice(U,F.offset);Q.length>0&&(r.apply({type:"remove_text",path:_,offset:U,text:Q}),te=Q)}!y&&k&&J.current&&ie.current&&w.mergeNodes(r,{at:J.current,hanging:!0,voids:c}),v&&u&&s==="character"&&te.length>1&&te.match(/[\u0E00-\u0E7F]+/)&&w.insertText(r,te.slice(0,te.length-i));var se=ie.unref(),ne=J.unref(),le=u?se||ne:ne||se;t.at==null&&le&&w.select(r,le)}}})},fl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1}=n,{at:s=On(r),batchDirty:i=!0}=n;if(t.length){if(E.isRange(s))if(a||(s=l.unhangRange(r,s,{voids:u})),E.isCollapsed(s))s=s.anchor;else{var[,c]=E.edges(s);if(!u&&l.void(r,{at:c}))return;var f=l.pointRef(r,c);w.delete(r,{at:s}),s=f.unref()}else D.isPath(s)&&(s=l.start(r,s));if(!(!u&&l.void(r,{at:s}))){var d=l.above(r,{at:s,match:x=>q.isElement(x)&&l.isInline(r,x),mode:"highest",voids:u});if(d){var[,v]=d;if(l.isEnd(r,s,v)){var h=l.after(r,v);s=h}else if(l.isStart(r,s,v)){var p=l.before(r,v);s=p}}var g=l.above(r,{match:x=>q.isElement(x)&&l.isBlock(r,x),at:s,voids:u}),[,o]=g,m=l.isStart(r,s,o),B=l.isEnd(r,s,o),b=m&&B,F=!m||m&&B,O=!B,[,T]=M.first({children:t},[]),[,k]=M.last({children:t},[]),y=[],I=x=>{var[S,L]=x,_=L.length===0;return _?!1:b?!0:!(F&&D.isAncestor(L,T)&&q.isElement(S)&&!r.isVoid(S)&&!r.isInline(S)||O&&D.isAncestor(L,k)&&q.isElement(S)&&!r.isVoid(S)&&!r.isInline(S))};for(var R of M.nodes({children:t},{pass:I}))I(R)&&y.push(R);var $=[],G=[],N=[],W=!0,j=!1;for(var[z]of y)q.isElement(z)&&!r.isInline(z)?(W=!1,j=!0,G.push(z)):W?$.push(z):N.push(z);var[ee]=l.nodes(r,{at:s,match:x=>H.isText(x)||l.isInline(r,x),mode:"highest",voids:u}),[,K]=ee,ie=l.isStart(r,s,K),J=l.isEnd(r,s,K),te=l.pathRef(r,B&&!N.length?D.next(o):o),he=l.pathRef(r,J?D.next(K):K);w.splitNodes(r,{at:s,match:x=>j?q.isElement(x)&&l.isBlock(r,x):H.isText(x)||l.isInline(r,x),mode:j?"lowest":"highest",always:j&&(!m||$.length>0)&&(!B||N.length>0),voids:u});var oe=l.pathRef(r,!ie||ie&&J?D.next(K):K);if(w.insertNodes(r,$,{at:oe.current,match:x=>H.isText(x)||l.isInline(r,x),mode:"highest",voids:u,batchDirty:i}),b&&!$.length&&G.length&&!N.length&&w.delete(r,{at:o,voids:u}),w.insertNodes(r,G,{at:te.current,match:x=>q.isElement(x)&&l.isBlock(r,x),mode:"lowest",voids:u,batchDirty:i}),w.insertNodes(r,N,{at:he.current,match:x=>H.isText(x)||l.isInline(r,x),mode:"highest",voids:u,batchDirty:i}),!n.at){var pe;if(N.length>0&&he.current?pe=D.previous(he.current):G.length>0&&te.current?pe=D.previous(te.current):oe.current&&(pe=D.previous(oe.current)),pe){var C=l.end(r,pe);w.select(r,C)}}oe.unref(),te.unref(),he.unref()}}})},dl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=t,{selection:a}=r;if(a){if(n==="anchor")w.select(r,a.anchor);else if(n==="focus")w.select(r,a.focus);else if(n==="start"){var[u]=E.edges(a);w.select(r,u)}else if(n==="end"){var[,s]=E.edges(a);w.select(r,s)}}else return},vl=e=>{var{selection:r}=e;r&&e.apply({type:"set_selection",properties:r,newProperties:null})},hl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=r,{distance:a=1,unit:u="character",reverse:s=!1}=t,{edge:i=null}=t;if(n){i==="start"&&(i=E.isBackward(n)?"focus":"anchor"),i==="end"&&(i=E.isBackward(n)?"anchor":"focus");var{anchor:c,focus:f}=n,d={distance:a,unit:u,ignoreNonSelectable:!0},v={};if(i==null||i==="anchor"){var h=s?l.before(r,c,d):l.after(r,c,d);h&&(v.anchor=h)}if(i==null||i==="focus"){var p=s?l.before(r,f,d):l.after(r,f,d);p&&(v.focus=p)}w.setSelection(r,v)}},gl=(e,r)=>{var{selection:t}=e;if(r=l.range(e,r),t){w.setSelection(e,r);return}if(!E.isRange(r))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(be.stringify(r)));e.apply({type:"set_selection",properties:t,newProperties:r})};function Aa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Fa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Aa(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Aa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Dl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=r,{edge:u="both"}=n;if(a){u==="start"&&(u=E.isBackward(a)?"focus":"anchor"),u==="end"&&(u=E.isBackward(a)?"anchor":"focus");var{anchor:s,focus:i}=a,c=u==="anchor"?s:i;w.setSelection(r,{[u==="anchor"?"anchor":"focus"]:Fa(Fa({},c),t)})}},pl=(e,r)=>{var{selection:t}=e,n={},a={};if(t){for(var u in r)(u==="anchor"&&r.anchor!=null&&!Z.equals(r.anchor,t.anchor)||u==="focus"&&r.focus!=null&&!Z.equals(r.focus,t.focus)||u!=="anchor"&&u!=="focus"&&r[u]!==t[u])&&(n[u]=t[u],a[u]=r[u]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}},ml=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{hanging:a=!1,voids:u=!1,mode:s="lowest",batchDirty:i=!0}=n,{at:c,match:f,select:d}=n;if(M.isNode(t)&&(t=[t]),t.length!==0){var[v]=t;if(c||(c=On(r),d!==!1&&(d=!0)),d==null&&(d=!1),E.isRange(c))if(a||(c=l.unhangRange(r,c,{voids:u})),E.isCollapsed(c))c=c.anchor;else{var[,h]=E.edges(c),p=l.pointRef(r,h);w.delete(r,{at:c}),c=p.unref()}if(Z.isPoint(c)){f==null&&(H.isText(v)?f=$=>H.isText($):r.isInline(v)?f=$=>H.isText($)||l.isInline(r,$):f=$=>q.isElement($)&&l.isBlock(r,$));var[g]=l.nodes(r,{at:c.path,match:f,mode:s,voids:u});if(g){var[,o]=g,m=l.pathRef(r,o),B=l.isEnd(r,c,o);w.splitNodes(r,{at:c,match:f,mode:s,voids:u});var b=m.unref();c=B?D.next(b):b}else return}var F=D.parent(c),O=c[c.length-1];if(!(!u&&l.void(r,{at:F}))){if(i){var T=[],k=D.levels(F);Qi(r,()=>{var $=function(){var W=F.concat(O);O++;var j={type:"insert_node",path:W,node:G};r.apply(j),c=D.next(c),T.push(j),H.isText?k.push(...Array.from(M.nodes(G),z=>{var[,ee]=z;return W.concat(ee)})):k.push(W)};for(var G of t)$()},()=>{Ru(r,k,$=>{var G=$;for(var N of T)if(D.operationCanTransformPath(N)&&(G=D.transform(G,N),!G))return null;return G})})}else for(var y of t){var I=F.concat(O);O++,r.apply({type:"insert_node",path:I,node:y}),c=D.next(c)}if(c=D.previous(c),d){var R=l.end(r,c);R&&w.select(r,R)}}}})},Cl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{at:n=r.selection,mode:a="lowest",voids:u=!1}=t,{match:s}=t;if(s==null&&(s=D.isPath(n)?Tr(r,n):O=>q.isElement(O)&&l.isBlock(r,O)),!!n){var i=l.nodes(r,{at:n,match:s,mode:a,voids:u}),c=Array.from(i,O=>{var[,T]=O;return l.pathRef(r,T)});for(var f of c){var d=f.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var v=l.node(r,D.parent(d)),[h,p]=v,g=d[d.length-1],{length:o}=h.children;if(o===1){var m=D.next(p);w.moveNodes(r,{at:d,to:m,voids:u}),w.removeNodes(r,{at:p,voids:u})}else if(g===0)w.moveNodes(r,{at:d,to:p,voids:u});else if(g===o-1){var B=D.next(p);w.moveNodes(r,{at:d,to:B,voids:u})}else{var b=D.next(d),F=D.next(p);w.splitNodes(r,{at:b,voids:u}),w.moveNodes(r,{at:d,to:F,voids:u})}}}})},Bl=["text"],El=["children"],Tu=(e,r)=>{if(q.isElement(r)){var t=r;return l.isVoid(e,r)?!0:t.children.length===1?Tu(e,t.children[0]):!1}else return!l.isEditor(r)},bl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{match:n,at:a=r.selection}=t,{hanging:u=!1,voids:s=!1,mode:i="lowest"}=t;if(a){if(n==null)if(D.isPath(a)){var[c]=l.parent(r,a);n=$=>c.children.includes($)}else n=$=>q.isElement($)&&l.isBlock(r,$);if(!u&&E.isRange(a)&&(a=l.unhangRange(r,a,{voids:s})),E.isRange(a))if(E.isCollapsed(a))a=a.anchor;else{var[,f]=E.edges(a),d=l.pointRef(r,f);w.delete(r,{at:a}),a=d.unref(),t.at==null&&w.select(r,a)}var[v]=l.nodes(r,{at:a,match:n,voids:s,mode:i}),h=l.previous(r,{at:a,match:n,voids:s,mode:i});if(!(!v||!h)){var[p,g]=v,[o,m]=h;if(!(g.length===0||m.length===0)){var B=D.next(m),b=D.common(g,m),F=D.isSibling(g,m),O=Array.from(l.levels(r,{at:g}),$=>{var[G]=$;return G}).slice(b.length).slice(0,-1),T=l.above(r,{at:g,mode:"highest",match:$=>O.includes($)&&Tu(r,$)}),k=T&&l.pathRef(r,T[1]),y,I;if(H.isText(p)&&H.isText(o)){var R=Qe(p,Bl);I=o.text.length,y=R}else if(q.isElement(p)&&q.isElement(o)){var R=Qe(p,El);I=o.children.length,y=R}else throw new Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(be.stringify(p)," ").concat(be.stringify(o)));F||w.moveNodes(r,{at:g,to:B,voids:s}),k&&w.removeNodes(r,{at:k.current,voids:s}),l.shouldMergeNodesRemovePrevNode(r,h,v)?w.removeNodes(r,{at:m,voids:s}):r.apply({type:"merge_node",path:B,position:I,properties:y}),k&&k.unref()}}}})},wl=(e,r)=>{l.withoutNormalizing(e,()=>{var{to:t,at:n=e.selection,mode:a="lowest",voids:u=!1}=r,{match:s}=r;if(n){s==null&&(s=D.isPath(n)?Tr(e,n):p=>q.isElement(p)&&l.isBlock(e,p));var i=l.pathRef(e,t),c=l.nodes(e,{at:n,match:s,mode:a,voids:u}),f=Array.from(c,p=>{var[,g]=p;return l.pathRef(e,g)});for(var d of f){var v=d.unref(),h=i.current;v.length!==0&&e.apply({type:"move_node",path:v,newPath:h}),i.current&&D.isSibling(h,v)&&D.isAfter(h,v)&&(i.current=D.next(i.current))}i.unref()}})},Al=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=t,{at:s=r.selection,match:i}=t;if(s){i==null&&(i=D.isPath(s)?Tr(r,s):p=>q.isElement(p)&&l.isBlock(r,p)),!n&&E.isRange(s)&&(s=l.unhangRange(r,s,{voids:a}));var c=l.nodes(r,{at:s,match:i,mode:u,voids:a}),f=Array.from(c,p=>{var[,g]=p;return l.pathRef(r,g)});for(var d of f){var v=d.unref();if(v){var[h]=l.node(r,v);r.apply({type:"remove_node",path:v,node:h})}}}})},Fl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{match:a,at:u=r.selection,compare:s,merge:i}=n,{hanging:c=!1,mode:f="lowest",split:d=!1,voids:v=!1}=n;if(u){if(a==null&&(a=D.isPath(u)?Tr(r,u):I=>q.isElement(I)&&l.isBlock(r,I)),!c&&E.isRange(u)&&(u=l.unhangRange(r,u,{voids:v})),d&&E.isRange(u)){if(E.isCollapsed(u)&&l.leaf(r,u.anchor)[0].text.length>0)return;var h=l.rangeRef(r,u,{affinity:"inward"}),[p,g]=E.edges(u),o=f==="lowest"?"lowest":"highest",m=l.isEnd(r,g,g.path);w.splitNodes(r,{at:g,match:a,mode:o,voids:v,always:!m});var B=l.isStart(r,p,p.path);w.splitNodes(r,{at:p,match:a,mode:o,voids:v,always:!B}),u=h.unref(),n.at==null&&w.select(r,u)}s||(s=(I,R)=>I!==R);for(var[b,F]of l.nodes(r,{at:u,match:a,mode:f,voids:v})){var O={},T={};if(F.length!==0){var k=!1;for(var y in t)y==="children"||y==="text"||s(t[y],b[y])&&(k=!0,b.hasOwnProperty(y)&&(O[y]=b[y]),i?t[y]!=null&&(T[y]=i(b[y],t[y])):t[y]!=null&&(T[y]=t[y]));k&&r.apply({type:"set_node",path:F,properties:O,newProperties:T})}}}})},yl=(e,r)=>{if(E.isCollapsed(r))return r.anchor;var[,t]=E.edges(r),n=l.pointRef(e,t);return w.delete(e,{at:r}),n.unref()},Ol=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{mode:n="lowest",voids:a=!1}=t,{match:u,at:s=r.selection,height:i=0,always:c=!1}=t;if(u==null&&(u=J=>q.isElement(J)&&l.isBlock(r,J)),E.isRange(s)&&(s=yl(r,s)),D.isPath(s)){var f=s,d=l.point(r,f),[v]=l.parent(r,f);u=J=>J===v,i=d.path.length-f.length+1,s=d,c=!0}if(s){var h=l.pointRef(r,s,{affinity:"backward"}),p;try{var[g]=l.nodes(r,{at:s,match:u,mode:n,voids:a});if(!g)return;var o=l.void(r,{at:s,mode:"highest"}),m=0;if(!a&&o){var[B,b]=o;if(q.isElement(B)&&r.isInline(B)){var F=l.after(r,b);if(!F){var O={text:""},T=D.next(b);w.insertNodes(r,O,{at:T,voids:a}),F=l.point(r,T)}s=F,c=!0}var k=s.path.length-b.length;i=k+1,c=!0}p=l.pointRef(r,s);var y=s.path.length-i,[,I]=g,R=s.path.slice(0,y),$=i===0?s.offset:s.path[y]+m;for(var[G,N]of l.levels(r,{at:R,reverse:!0,voids:a})){var W=!1;if(N.length<I.length||N.length===0||!a&&q.isElement(G)&&l.isVoid(r,G))break;var j=h.current,z=l.isEnd(r,j,N);if(c||!h||!l.isEdge(r,j,N)){W=!0;var ee=M.extractProps(G);r.apply({type:"split_node",path:N,position:$,properties:ee})}$=N[N.length-1]+(W||z?1:0)}if(t.at==null){var K=p.current||l.end(r,[]);w.select(r,K)}}finally{var ie;h.unref(),(ie=p)===null||ie===void 0||ie.unref()}}})},Sl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(t)||(t=[t]);var a={};for(var u of t)a[u]=null;w.setNodes(r,a,n)},xl=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};l.withoutNormalizing(r,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=t,{at:s=r.selection,match:i}=t;if(s){i==null&&(i=D.isPath(s)?Tr(r,s):p=>q.isElement(p)&&l.isBlock(r,p)),D.isPath(s)&&(s=l.range(r,s));var c=E.isRange(s)?l.rangeRef(r,s):null,f=l.nodes(r,{at:s,match:i,mode:n,voids:u}),d=Array.from(f,p=>{var[,g]=p;return l.pathRef(r,g)}).reverse(),v=function(){var g=h.unref(),[o]=l.node(r,g),m=l.range(r,g);a&&c&&(m=E.intersection(c.current,m)),w.liftNodes(r,{at:m,match:B=>q.isAncestor(o)&&o.children.includes(B),voids:u})};for(var h of d)v();c&&c.unref()}})};function ya(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Oa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ya(Object(t),!0).forEach(function(n){xe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ya(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Pl=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};l.withoutNormalizing(r,()=>{var{mode:a="lowest",split:u=!1,voids:s=!1}=n,{match:i,at:c=r.selection}=n;if(c){if(i==null&&(D.isPath(c)?i=Tr(r,c):r.isInline(t)?i=m=>q.isElement(m)&&l.isInline(r,m)||H.isText(m):i=m=>q.isElement(m)&&l.isBlock(r,m)),u&&E.isRange(c)){var[f,d]=E.edges(c),v=l.rangeRef(r,c,{affinity:"inward"});w.splitNodes(r,{at:d,match:i,voids:s}),w.splitNodes(r,{at:f,match:i,voids:s}),c=v.unref(),n.at==null&&w.select(r,c)}var h=Array.from(l.nodes(r,{at:c,match:r.isInline(t)?m=>q.isElement(m)&&l.isBlock(r,m):m=>l.isEditor(m),mode:"lowest",voids:s})),p=function(){var B=E.isRange(c)?E.intersection(c,l.range(r,o)):c;if(!B)return 0;var b=Array.from(l.nodes(r,{at:B,match:i,mode:a,voids:s}));if(b.length>0){var[F]=b,O=b[b.length-1],[,T]=F,[,k]=O;if(T.length===0&&k.length===0)return 0;var y=D.equals(T,k)?D.parent(T):D.common(T,k),I=l.range(r,T,k),R=l.node(r,y),[$]=R,G=y.length+1,N=D.next(k.slice(0,G)),W=Oa(Oa({},t),{},{children:[]});w.insertNodes(r,W,{at:N,voids:s}),w.moveNodes(r,{at:I,match:j=>q.isAncestor($)&&$.children.includes(j),to:N.concat(0),voids:s})}},g;for(var[,o]of h)g=p()}})},Rl=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return eo(e,...n)},addMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return so(e,...n)},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return lo(e,...n)},deleteForward:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return co(e,...n)},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return fo(e,...n)},getFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return to(e,...n)},insertBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wo(e,...n)},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fo(e,...n)},insertFragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return fl(e,...n)},insertNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ao(e,...n)},insertText:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Oo(e,...n)},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return no(e,...n)},removeMark:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return nl(e,...n)},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ro(e,...n)},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ao(e,...n)},above:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return uo(e,...n)},after:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return io(e,...n)},before:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return oo(e,...n)},collapse:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return dl(e,...n)},delete:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return cl(e,...n)},deselect:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vl(e,...n)},edges:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vo(e,...n)},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ho(e,...n)},end:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return go(e,...n)},first:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Do(e,...n)},fragment:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return po(e,...n)},getMarks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Lo(e,...n)},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Co(e,...n)},hasInlines:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Bo(e,...n)},hasPath:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Eo(e,...n)},hasTexts:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bo(e,...n)},insertNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ml(e,...n)},isBlock:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return So(e,...n)},isEdge:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xo(e,...n)},isEmpty:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Po(e,...n)},isEnd:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ro(e,...n)},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return To(e,...n)},isStart:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return No(e,...n)},last:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Mo(e,...n)},leaf:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return jo(e,...n)},levels:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ko(e,...n)},liftNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Cl(e,...n)},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bl(e,...n)},move:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return hl(e,...n)},moveNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return wl(e,...n)},next:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return $o(e,...n)},node:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Wo(e,...n)},nodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return qo(e,...n)},normalize:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ho(e,...n)},parent:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vo(e,...n)},path:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Go(e,...n)},pathRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ko(e,...n)},pathRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Uo(e,...n)},point:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Jo(e,...n)},pointRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Yo(e,...n)},pointRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Xo(e,...n)},positions:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Zo(e,...n)},previous:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return _o(e,...n)},range:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rl(e,...n)},rangeRef:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Qo(e,...n)},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return el(e,...n)},removeNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Al(e,...n)},select:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return gl(e,...n)},setNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Fl(e,...n)},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return al(e,...n)},setPoint:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Dl(e,...n)},setSelection:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return pl(e,...n)},splitNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ol(e,...n)},start:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ul(e,...n)},string:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return sl(e,...n)},unhangRange:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return il(e,...n)},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Sl(e,...n)},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return xl(e,...n)},void:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return mo(e,...n)},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ol(e,...n)},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Pl(e,...n)},shouldMergeNodesRemovePrevNode:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ll(e,...n)}};return e},dr=[],Tl=function(){return dr.some(function(e){return e.activeTargets.length>0})},Nl=function(){return dr.some(function(e){return e.skippedTargets.length>0})},Sa="ResizeObserver loop completed with undelivered notifications.",Ml=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Sa}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Sa),window.dispatchEvent(e)},Vr;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Vr||(Vr={}));var vr=function(e){return Object.freeze(e)},jl=function(){function e(r,t){this.inlineSize=r,this.blockSize=t,vr(this)}return e}(),Nu=function(){function e(r,t,n,a){return this.x=r,this.y=t,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,vr(this)}return e.prototype.toJSON=function(){var r=this,t=r.x,n=r.y,a=r.top,u=r.right,s=r.bottom,i=r.left,c=r.width,f=r.height;return{x:t,y:n,top:a,right:u,bottom:s,left:i,width:c,height:f}},e.fromRect=function(r){return new e(r.x,r.y,r.width,r.height)},e}(),Pn=function(e){return e instanceof SVGElement&&"getBBox"in e},Mu=function(e){if(Pn(e)){var r=e.getBBox(),t=r.width,n=r.height;return!t&&!n}var a=e,u=a.offsetWidth,s=a.offsetHeight;return!(u||s||e.getClientRects().length)},xa=function(e){var r;if(e instanceof Element)return!0;var t=(r=e==null?void 0:e.ownerDocument)===null||r===void 0?void 0:r.defaultView;return!!(t&&e instanceof t.Element)},kl=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},zr=typeof window<"u"?window:{},ut=new WeakMap,Pa=/auto|scroll/,Il=/^tb|vertical/,zl=/msie|trident/i.test(zr.navigator&&zr.navigator.userAgent),Ke=function(e){return parseFloat(e||"0")},yr=function(e,r,t){return e===void 0&&(e=0),r===void 0&&(r=0),t===void 0&&(t=!1),new jl((t?r:e)||0,(t?e:r)||0)},Ra=vr({devicePixelContentBoxSize:yr(),borderBoxSize:yr(),contentBoxSize:yr(),contentRect:new Nu(0,0,0,0)}),ju=function(e,r){if(r===void 0&&(r=!1),ut.has(e)&&!r)return ut.get(e);if(Mu(e))return ut.set(e,Ra),Ra;var t=getComputedStyle(e),n=Pn(e)&&e.ownerSVGElement&&e.getBBox(),a=!zl&&t.boxSizing==="border-box",u=Il.test(t.writingMode||""),s=!n&&Pa.test(t.overflowY||""),i=!n&&Pa.test(t.overflowX||""),c=n?0:Ke(t.paddingTop),f=n?0:Ke(t.paddingRight),d=n?0:Ke(t.paddingBottom),v=n?0:Ke(t.paddingLeft),h=n?0:Ke(t.borderTopWidth),p=n?0:Ke(t.borderRightWidth),g=n?0:Ke(t.borderBottomWidth),o=n?0:Ke(t.borderLeftWidth),m=v+f,B=c+d,b=o+p,F=h+g,O=i?e.offsetHeight-F-e.clientHeight:0,T=s?e.offsetWidth-b-e.clientWidth:0,k=a?m+b:0,y=a?B+F:0,I=n?n.width:Ke(t.width)-k-T,R=n?n.height:Ke(t.height)-y-O,$=I+m+T+b,G=R+B+O+F,N=vr({devicePixelContentBoxSize:yr(Math.round(I*devicePixelRatio),Math.round(R*devicePixelRatio),u),borderBoxSize:yr($,G,u),contentBoxSize:yr(I,R,u),contentRect:new Nu(v,c,I,R)});return ut.set(e,N),N},ku=function(e,r,t){var n=ju(e,t),a=n.borderBoxSize,u=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(r){case Vr.DEVICE_PIXEL_CONTENT_BOX:return s;case Vr.BORDER_BOX:return a;default:return u}},Ll=function(){function e(r){var t=ju(r);this.target=r,this.contentRect=t.contentRect,this.borderBoxSize=vr([t.borderBoxSize]),this.contentBoxSize=vr([t.contentBoxSize]),this.devicePixelContentBoxSize=vr([t.devicePixelContentBoxSize])}return e}(),Iu=function(e){if(Mu(e))return 1/0;for(var r=0,t=e.parentNode;t;)r+=1,t=t.parentNode;return r},$l=function(){var e=1/0,r=[];dr.forEach(function(s){if(s.activeTargets.length!==0){var i=[];s.activeTargets.forEach(function(f){var d=new Ll(f.target),v=Iu(f.target);i.push(d),f.lastReportedSize=ku(f.target,f.observedBox),v<e&&(e=v)}),r.push(function(){s.callback.call(s.observer,i,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var t=0,n=r;t<n.length;t++){var a=n[t];a()}return e},Ta=function(e){dr.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(a){a.isActive()&&(Iu(a.target)>e?t.activeTargets.push(a):t.skippedTargets.push(a))})})},Wl=function(){var e=0;for(Ta(e);Tl();)e=$l(),Ta(e);return Nl()&&Ml(),e>0},Ut,zu=[],ql=function(){return zu.splice(0).forEach(function(e){return e()})},Hl=function(e){if(!Ut){var r=0,t=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return ql()}).observe(t,n),Ut=function(){t.textContent="".concat(r?r--:r++)}}zu.push(e),Ut()},Vl=function(e){Hl(function(){requestAnimationFrame(e)})},vt=0,Kl=function(){return!!vt},Ul=250,Gl={attributes:!0,characterData:!0,childList:!0,subtree:!0},Na=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Ma=function(e){return e===void 0&&(e=0),Date.now()+e},Gt=!1,Yl=function(){function e(){var r=this;this.stopped=!0,this.listener=function(){return r.schedule()}}return e.prototype.run=function(r){var t=this;if(r===void 0&&(r=Ul),!Gt){Gt=!0;var n=Ma(r);Vl(function(){var a=!1;try{a=Wl()}finally{if(Gt=!1,r=n-Ma(),!Kl())return;a?t.run(1e3):r>0?t.run(r):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var r=this,t=function(){return r.observer&&r.observer.observe(document.body,Gl)};document.body?t():zr.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var r=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Na.forEach(function(t){return zr.addEventListener(t,r.listener,!0)}))},e.prototype.stop=function(){var r=this;this.stopped||(this.observer&&this.observer.disconnect(),Na.forEach(function(t){return zr.removeEventListener(t,r.listener,!0)}),this.stopped=!0)},e}(),un=new Yl,ja=function(e){!vt&&e>0&&un.start(),vt+=e,!vt&&un.stop()},Xl=function(e){return!Pn(e)&&!kl(e)&&getComputedStyle(e).display==="inline"},Jl=function(){function e(r,t){this.target=r,this.observedBox=t||Vr.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var r=ku(this.target,this.observedBox,!0);return Xl(this.target)&&(this.lastReportedSize=r),this.lastReportedSize.inlineSize!==r.inlineSize||this.lastReportedSize.blockSize!==r.blockSize},e}(),Zl=function(){function e(r,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=r,this.callback=t}return e}(),st=new WeakMap,ka=function(e,r){for(var t=0;t<e.length;t+=1)if(e[t].target===r)return t;return-1},it=function(){function e(){}return e.connect=function(r,t){var n=new Zl(r,t);st.set(r,n)},e.observe=function(r,t,n){var a=st.get(r),u=a.observationTargets.length===0;ka(a.observationTargets,t)<0&&(u&&dr.push(a),a.observationTargets.push(new Jl(t,n&&n.box)),ja(1),un.schedule())},e.unobserve=function(r,t){var n=st.get(r),a=ka(n.observationTargets,t),u=n.observationTargets.length===1;a>=0&&(u&&dr.splice(dr.indexOf(n),1),n.observationTargets.splice(a,1),ja(-1))},e.disconnect=function(r){var t=this,n=st.get(r);n.observationTargets.slice().forEach(function(a){return t.unobserve(r,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),_l=function(){function e(r){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof r!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");it.connect(this,r)}return e.prototype.observe=function(r,t){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xa(r))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");it.observe(this,r,t)},e.prototype.unobserve=function(r){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xa(r))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");it.unobserve(this,r)},e.prototype.disconnect=function(){it.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Ql(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,u;for(u=0;u<n.length;u++)a=n[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}function xr(e,r){if(e==null)return{};var t=Ql(e,r),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kr(e)}function ec(e,r){if(Kr(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Kr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function rc(e){var r=ec(e,"string");return Kr(r)==="symbol"?r:String(r)}function Ie(e,r,t){return r=rc(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Rn=P.createContext(null),ir=()=>{var e=P.useContext(Rn);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},Lu=parseInt(Y.version.split(".")[0],10),tc=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ia=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Se=typeof navigator<"u"&&/Android/.test(navigator.userAgent),wr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),kr=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),nc=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),$u=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),ac=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),uc=Se&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),sc=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),ic=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),oc=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rr=(!ac||!uc)&&!nc&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Tn=new WeakMap,Nn=new WeakMap,Wu=new WeakMap,gt=new WeakMap,sn=new WeakMap,Ur=new WeakMap,hr=new WeakMap,At=new WeakMap,Tt=new WeakMap,on=new WeakMap,ur=new WeakMap,fr=new WeakMap,Lr=new WeakMap,ln=new WeakMap,Mn=new WeakMap,He=new WeakMap,_e=new WeakMap,Re=new WeakMap,tr=new WeakMap,nr=new WeakMap,qu=new WeakMap,Pr=Symbol("placeholder"),Hu=Symbol("mark-placeholder"),lc=globalThis.Text,jn=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,cc=e=>sr(e)&&e.nodeType===8,ke=e=>sr(e)&&e.nodeType===1,sr=e=>{var r=jn(e);return!!r&&e instanceof r.Node},cn=e=>{var r=e&&e.anchorNode&&jn(e.anchorNode);return!!r&&e instanceof r.Selection},Vu=e=>sr(e)&&e.nodeType===3,fc=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,dc=e=>{var[r,t]=e;if(ke(r)&&r.childNodes.length){var n=t===r.childNodes.length,a=n?t-1:t;for([r,a]=Ku(r,a,n?"backward":"forward"),n=a<t;ke(r)&&r.childNodes.length;){var u=n?r.childNodes.length-1:0;r=hc(r,u,n?"backward":"forward")}t=n&&r.textContent!=null?r.textContent.length:0}return[r,t]},vc=e=>{for(var r=e&&e.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},Ku=(e,r,t)=>{for(var{childNodes:n}=e,a=n[r],u=r,s=!1,i=!1;(cc(a)||ke(a)&&a.childNodes.length===0||ke(a)&&a.getAttribute("contenteditable")==="false")&&!(s&&i);){if(u>=n.length){s=!0,u=r-1,t="backward";continue}if(u<0){i=!0,u=r+1,t="forward";continue}a=n[u],r=u,u+=t==="forward"?1:-1}return[a,r]},hc=(e,r,t)=>{var[n]=Ku(e,r,t);return n},Uu=e=>{var r="";if(Vu(e)&&e.nodeValue)return e.nodeValue;if(ke(e)){for(var t of Array.from(e.childNodes))r+=Uu(t);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(r+=`
`)}return r},gc=/data-slate-fragment="(.+?)"/m,Dc=e=>{var r=e.getData("text/html"),[,t]=r.match(gc)||[];return t},kn=(e,r,t)=>{var{target:n}=r;if(ke(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=A.getWindow(e);if(a.contains(n))return A.hasDOMNode(e,n,{editable:!0});var u=t.find(s=>{var{addedNodes:i,removedNodes:c}=s;for(var f of i)if(f===n||f.contains(n))return!0;for(var d of c)if(d===n||d.contains(n))return!0});return!u||u===r?!1:kn(e,u,t)},pc=0;class mc{constructor(){Ie(this,"id",void 0),this.id="".concat(pc++)}}var A={androidPendingDiffs:e=>Re.get(e),androidScheduleFlush:e=>{var r;(r=Mn.get(e))===null||r===void 0||r()},blur:e=>{var r=A.toDOMNode(e,e),t=A.findDocumentOrShadowRoot(e);ur.set(e,!1),t.activeElement===r&&r.blur()},deselect:e=>{var{selection:r}=e,t=A.findDocumentOrShadowRoot(e),n=t.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),r&&w.deselect(e)},findDocumentOrShadowRoot:e=>{var r=A.toDOMNode(e,e),t=r.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&t.getSelection!=null?t:r.ownerDocument},findEventRange:(e,r)=>{"nativeEvent"in r&&(r=r.nativeEvent);var{clientX:t,clientY:n,target:a}=r;if(t==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var u=A.toSlateNode(e,r.target),s=A.findPath(e,u);if(q.isElement(u)&&l.isVoid(e,u)){var i=a.getBoundingClientRect(),c=e.isInline(u)?t-i.left<i.left+i.width-t:n-i.top<i.top+i.height-n,f=l.point(e,s,{edge:c?"start":"end"}),d=c?l.before(e,f):l.after(e,f);if(d){var v=l.range(e,d);return v}}var h,{document:p}=A.getWindow(e);if(p.caretRangeFromPoint)h=p.caretRangeFromPoint(t,n);else{var g=p.caretPositionFromPoint(t,n);g&&(h=p.createRange(),h.setStart(g.offsetNode,g.offset),h.setEnd(g.offsetNode,g.offset))}if(!h)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(r));var o=A.toSlateRange(e,h,{exactMatch:!1,suppressThrow:!1});return o},findKey:(e,r)=>{var t=At.get(r);return t||(t=new mc,At.set(r,t)),t},findPath:(e,r)=>{for(var t=[],n=r;;){var a=Nn.get(n);if(a==null){if(l.isEditor(n))return t;break}var u=Tn.get(n);if(u==null)break;t.unshift(u),n=a}throw new Error("Unable to find the path for Slate node: ".concat(be.stringify(r)))},focus:function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!ur.get(r)){if(t.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(r.operations.length>0){setTimeout(()=>{A.focus(r,{retries:t.retries-1})},10);return}var n=A.toDOMNode(r,r),a=A.findDocumentOrShadowRoot(r);if(a.activeElement!==n){if(r.selection&&a instanceof Document){var u=a.getSelection(),s=A.toDOMRange(r,r.selection);u==null||u.removeAllRanges(),u==null||u.addRange(s)}r.selection||(w.select(r,l.start(r,[])),r.onChange()),ur.set(r,!0),n.focus({preventScroll:!0})}}},getWindow:e=>{var r=Wu.get(e);if(!r)throw new Error("Unable to find a host window element for this editor");return r},hasDOMNode:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=n,u=A.toDOMNode(r,r),s;try{s=ke(t)?t:t.parentElement}catch(i){if(i instanceof Error&&!i.message.includes('Permission denied to access property "nodeType"'))throw i}return s?s.closest("[data-slate-editor]")===u&&(!a||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===u||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,r)=>sr(r)&&A.hasDOMNode(e,r,{editable:!0}),hasRange:(e,r)=>{var{anchor:t,focus:n}=r;return l.hasPath(e,t.path)&&l.hasPath(e,n.path)},hasSelectableTarget:(e,r)=>A.hasEditableTarget(e,r)||A.isTargetInsideNonReadonlyVoid(e,r),hasTarget:(e,r)=>sr(r)&&A.hasDOMNode(e,r),insertData:(e,r)=>{e.insertData(r)},insertFragmentData:(e,r)=>e.insertFragmentData(r),insertTextData:(e,r)=>e.insertTextData(r),isComposing:e=>!!fr.get(e),isFocused:e=>!!ur.get(e),isReadOnly:e=>!!on.get(e),isTargetInsideNonReadonlyVoid:(e,r)=>{if(on.get(e))return!1;var t=A.hasTarget(e,r)&&A.toSlateNode(e,r);return q.isElement(t)&&l.isVoid(e,t)},setFragmentData:(e,r,t)=>e.setFragmentData(r,t),toDOMNode:(e,r)=>{var t=Tt.get(e),n=l.isEditor(r)?gt.get(e):t==null?void 0:t.get(A.findKey(e,r));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(be.stringify(r)));return n},toDOMPoint:(e,r)=>{var[t]=l.node(e,r.path),n=A.toDOMNode(e,t),a;l.void(e,{at:r})&&(r={path:r.path,offset:0});for(var u="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(u)),i=0,c=0;c<s.length;c++){var f=s[c],d=f.childNodes[0];if(!(d==null||d.textContent==null)){var{length:v}=d.textContent,h=f.getAttribute("data-slate-length"),p=h==null?v:parseInt(h,10),g=i+p,o=s[c+1];if(r.offset===g&&o!==null&&o!==void 0&&o.hasAttribute("data-slate-mark-placeholder")){var m,B=o.childNodes[0];a=[B instanceof lc?B:o,(m=o.textContent)!==null&&m!==void 0&&m.startsWith("\uFEFF")?1:0];break}if(r.offset<=g){var b=Math.min(v,Math.max(0,r.offset-i));a=[d,b];break}i=g}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(be.stringify(r)));return a},toDOMRange:(e,r)=>{var{anchor:t,focus:n}=r,a=E.isBackward(r),u=A.toDOMPoint(e,t),s=E.isCollapsed(r)?u:A.toDOMPoint(e,n),i=A.getWindow(e),c=i.document.createRange(),[f,d]=a?s:u,[v,h]=a?u:s,p=ke(f)?f:f.parentElement,g=!!p.getAttribute("data-slate-zero-width"),o=ke(v)?v:v.parentElement,m=!!o.getAttribute("data-slate-zero-width");return c.setStart(f,g?1:d),c.setEnd(v,m?1:h),c},toSlateNode:(e,r)=>{var t=ke(r)?r:r.parentElement;t&&!t.hasAttribute("data-slate-node")&&(t=t.closest("[data-slate-node]"));var n=t?Ur.get(t):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t));return n},toSlatePoint:(e,r,t)=>{var{exactMatch:n,suppressThrow:a}=t,[u,s]=n?r:dc(r),i=u.parentNode,c=null,f=0;if(i){var d,v,h=A.toDOMNode(e,e),p=i.closest('[data-slate-void="true"]'),g=p&&h.contains(p)?p:null,o=i.closest("[data-slate-leaf]"),m=null;if(o){if(c=o.closest('[data-slate-node="text"]'),c){var B=A.getWindow(e),b=B.document.createRange();b.setStart(c,0),b.setEnd(u,s);var F=b.cloneContents(),O=[...Array.prototype.slice.call(F.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(F.querySelectorAll("[contenteditable=false]"))];O.forEach(j=>{if(Se&&!n&&j.hasAttribute("data-slate-zero-width")&&j.textContent.length>0&&j.textContext!=="\uFEFF"){j.textContent.startsWith("\uFEFF")&&(j.textContent=j.textContent.slice(1));return}j.parentNode.removeChild(j)}),f=F.textContent.length,m=c}}else if(g){for(var T=g.querySelectorAll("[data-slate-leaf]"),k=0;k<T.length;k++){var y=T[k];if(A.hasDOMNode(e,y)){o=y;break}}o?(c=o.closest('[data-slate-node="text"]'),m=o,f=m.textContent.length,m.querySelectorAll("[data-slate-zero-width]").forEach(j=>{f-=j.textContent.length})):f=1}m&&f===m.textContent.length&&Se&&m.getAttribute("data-slate-zero-width")==="z"&&(d=m.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(i.hasAttribute("data-slate-zero-width")||wr&&(v=m.textContent)!==null&&v!==void 0&&v.endsWith(`

`))&&f--}if(Se&&!c&&!n){var I=i.hasAttribute("data-slate-node")?i:i.closest("[data-slate-node]");if(I&&A.hasDOMNode(e,I,{editable:!0})){var R=A.toSlateNode(e,I),{path:$,offset:G}=l.start(e,A.findPath(e,R));return I.querySelector("[data-slate-leaf]")||(G=s),{path:$,offset:G}}}if(!c){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(r))}var N=A.toSlateNode(e,c),W=A.findPath(e,N);return{path:W,offset:f}},toSlateRange:(e,r,t)=>{var n,{exactMatch:a,suppressThrow:u}=t,s=cn(r)?r.anchorNode:r.startContainer,i,c,f,d,v;if(s)if(cn(r)){if(wr&&r.rangeCount>1){f=r.focusNode;var h=r.getRangeAt(0),p=r.getRangeAt(r.rangeCount-1);if(f instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement){let k=function(y){return y.childElementCount>0?k(y.children[0]):y};var g=h.startContainer,o=p.startContainer,m=k(g.children[h.startOffset]),B=k(o.children[p.startOffset]);d=0,B.childNodes.length>0?i=B.childNodes[0]:i=B,m.childNodes.length>0?f=m.childNodes[0]:f=m,B instanceof HTMLElement?c=B.innerHTML.length:c=0}else h.startContainer===f?(i=p.endContainer,c=p.endOffset,d=h.startOffset):(i=h.startContainer,c=h.endOffset,d=p.startOffset)}else i=r.anchorNode,c=r.anchorOffset,f=r.focusNode,d=r.focusOffset;$u&&vc(i)||wr?v=r.anchorNode===r.focusNode&&r.anchorOffset===r.focusOffset:v=r.isCollapsed}else i=r.startContainer,c=r.startOffset,f=r.endContainer,d=r.endOffset,v=r.collapsed;if(i==null||f==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(r));if(wr&&(n=f.textContent)!==null&&n!==void 0&&n.endsWith(`

`)&&d===f.textContent.length&&d--,"getAttribute"in f&&f.getAttribute("contenteditable")==="false"&&f.getAttribute("data-slate-void")!=="true"){var b;f=i,d=((b=i.textContent)===null||b===void 0?void 0:b.length)||0}var F=A.toSlatePoint(e,[i,c],{exactMatch:a,suppressThrow:u});if(!F)return null;var O=v?F:A.toSlatePoint(e,[f,d],{exactMatch:a,suppressThrow:u});if(!O)return null;var T={anchor:F,focus:O};return E.isExpanded(T)&&E.isForward(T)&&ke(f)&&l.void(e,{at:T.focus,mode:"highest"})&&(T=l.unhangRange(e,T,{voids:!0})),T}};function Cc(e,r){var{path:t,diff:n}=r;if(!l.hasPath(e,t))return!1;var a=M.get(e,t);if(!H.isText(a))return!1;if(n.start!==a.text.length||n.text.length===0)return a.text.slice(n.start,n.start+n.text.length)===n.text;var u=D.next(t);if(!l.hasPath(e,u))return!1;var s=M.get(e,u);return H.isText(s)&&s.text.startsWith(n.text)}function Gu(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return t.reduce((a,u)=>a.slice(0,u.start)+u.text+a.slice(u.end),e)}function Bc(e,r){for(var t=Math.min(e.length,r.length),n=0;n<t;n++)if(e.charAt(n)!==r.charAt(n))return n;return t}function Ec(e,r,t){for(var n=Math.min(e.length,r.length,t),a=0;a<n;a++)if(e.charAt(e.length-a-1)!==r.charAt(r.length-a-1))return a;return n}function Yu(e,r){var{start:t,end:n,text:a}=r,u=e.slice(t,n),s=Bc(u,a),i=Math.min(u.length-s,a.length-s),c=Ec(u,a,i),f={start:t+s,end:n-c,text:a.slice(s,a.length-c)};return f.start===f.end&&f.text.length===0?null:f}function bc(e,r,t){var n=Math.min(r.start,t.start),a=Math.max(0,Math.min(r.start+r.text.length,t.end)-t.start),u=Gu(e,r,t),s=Math.max(t.start+t.text.length,r.start+r.text.length+(r.start+r.text.length>t.start?t.text.length:0)-a),i=u.slice(n,s),c=Math.max(r.end,t.end-r.text.length+(r.end-r.start));return Yu(e,{start:n,end:c,text:i})}function wc(e){var{path:r,diff:t}=e;return{anchor:{path:r,offset:t.start},focus:{path:r,offset:t.end}}}function fn(e,r){var{path:t,offset:n}=r;if(!l.hasPath(e,t))return null;var a=M.get(e,t);if(!H.isText(a))return null;var u=l.above(e,{match:i=>q.isElement(i)&&l.isBlock(e,i),at:t});if(!u)return null;for(;n>a.text.length;){var s=l.next(e,{at:t,match:H.isText});if(!s||!D.isDescendant(s[1],u[1]))return null;n-=a.text.length,a=s[0],t=s[1]}return{path:t,offset:n}}function za(e,r){var t=fn(e,r.anchor);if(!t)return null;if(E.isCollapsed(r))return{anchor:t,focus:t};var n=fn(e,r.focus);return n?{anchor:t,focus:n}:null}function dn(e,r,t){var n=Re.get(e),a=n==null?void 0:n.find(d=>{var{path:v}=d;return D.equals(v,r.path)});if(!a||r.offset<=a.diff.start)return Z.transform(r,t,{affinity:"backward"});var{diff:u}=a;if(r.offset<=u.start+u.text.length){var s={path:r.path,offset:u.start},i=Z.transform(s,t,{affinity:"backward"});return i?{path:i.path,offset:i.offset+r.offset-u.start}:null}var c={path:r.path,offset:r.offset-u.text.length+u.end-u.start},f=Z.transform(c,t,{affinity:"backward"});return f?t.type==="split_node"&&D.equals(t.path,r.path)&&c.offset<t.position&&u.start<t.position?f:{path:f.path,offset:f.offset+u.text.length-u.end+u.start}:null}function La(e,r,t){var n=dn(e,r.anchor,t);if(!n)return null;if(E.isCollapsed(r))return{anchor:n,focus:n};var a=dn(e,r.focus,t);return a?{anchor:n,focus:a}:null}function Ac(e,r){var{path:t,diff:n,id:a}=e;switch(r.type){case"insert_text":return!D.equals(r.path,t)||r.offset>=n.end?e:r.offset<=n.start?{diff:{start:r.text.length+n.start,end:r.text.length+n.end,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end+r.text.length,text:n.text},id:a,path:t};case"remove_text":return!D.equals(r.path,t)||r.offset>=n.end?e:r.offset+r.text.length<=n.start?{diff:{start:n.start-r.text.length,end:n.end-r.text.length,text:n.text},id:a,path:t}:{diff:{start:n.start,end:n.end-r.text.length,text:n.text},id:a,path:t};case"split_node":return!D.equals(r.path,t)||r.position>=n.end?{diff:n,id:a,path:D.transform(t,r,{affinity:"backward"})}:r.position>n.start?{diff:{start:n.start,end:Math.min(r.position,n.end),text:n.text},id:a,path:t}:{diff:{start:n.start-r.position,end:n.end-r.position,text:n.text},id:a,path:D.transform(t,r,{affinity:"forward"})};case"merge_node":return D.equals(r.path,t)?{diff:{start:n.start+r.position,end:n.end+r.position,text:n.text},id:a,path:D.transform(t,r)}:{diff:n,id:a,path:D.transform(t,r)}}var u=D.transform(t,r);return u?{diff:n,path:u,id:a}:null}function $a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ot(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$a(Object(t),!0).forEach(function(n){Ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Fc=25,yc=200,Oc=function(){},Sc=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function xc(e){var{editor:r,scheduleOnDOMSelectionChange:t,onDOMSelectionChange:n}=e,a=!1,u=null,s=null,i=null,c=0,f=!1,d=()=>{var N=nr.get(r);if(nr.delete(r),N){var{selection:W}=r,j=za(r,N);j&&(!W||!E.equals(j,W))&&w.select(r,j)}},v=()=>{var N=tr.get(r);if(tr.delete(r),!!N){if(N.at){var W=Z.isPoint(N.at)?fn(r,N.at):za(r,N.at);if(!W)return;var j=l.range(r,W);(!r.selection||!E.equals(r.selection,j))&&w.select(r,W)}N.run()}},h=()=>{if(s&&(clearTimeout(s),s=null),i&&(clearTimeout(i),i=null),!O()&&!F()){d();return}a||(a=!0,setTimeout(()=>a=!1)),F()&&(a="action");var N=r.selection&&l.rangeRef(r,r.selection,{affinity:"forward"});_e.set(r,r.marks),Oc("flush",tr.get(r),Re.get(r));for(var W=O(),j;j=(z=Re.get(r))===null||z===void 0?void 0:z[0];){var z,ee,K=He.get(r);K!==void 0&&(He.delete(r),r.marks=K),K&&f===!1&&(f=null);var ie=wc(j);(!r.selection||!E.equals(r.selection,ie))&&w.select(r,ie),j.diff.text?l.insertText(r,j.diff.text):l.deleteFragment(r),Re.set(r,(ee=Re.get(r))===null||ee===void 0?void 0:ee.filter(he=>{var{id:oe}=he;return oe!==j.id})),Cc(r,j)||(W=!1,tr.delete(r),_e.delete(r),a="action",nr.delete(r),t.cancel(),n.cancel(),N==null||N.unref())}var J=N==null?void 0:N.unref();if(J&&!nr.get(r)&&(!r.selection||!E.equals(J,r.selection))&&w.select(r,J),F()){v();return}W&&t(),t.flush(),n.flush(),d();var te=_e.get(r);_e.delete(r),te!==void 0&&(r.marks=te,r.onChange())},p=N=>{u&&clearTimeout(u),u=setTimeout(()=>{fr.set(r,!1),h()},Fc)},g=N=>{fr.set(r,!0),u&&(clearTimeout(u),u=null)},o=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=sn.get(r);if(j){if(O()||W){j.style.display="none";return}j.style.removeProperty("display")}},m=(N,W)=>{var j,z=(j=Re.get(r))!==null&&j!==void 0?j:[];Re.set(r,z);var ee=M.leaf(r,N),K=z.findIndex(te=>D.equals(te.path,N));if(K<0){var ie=Yu(ee.text,W);ie&&z.push({path:N,diff:W,id:c++}),o();return}var J=bc(ee.text,z[K].diff,W);if(!J){z.splice(K,1),o();return}z[K]=ot(ot({},z[K]),{},{diff:J})},B=function(W){var{at:j}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f=!1,nr.delete(r),t.cancel(),n.cancel(),F()&&h(),tr.set(r,{at:j,run:W}),i=setTimeout(h)},b=N=>{var W;s&&(clearTimeout(s),s=null);var{inputType:j}=N,z=null,ee=N.dataTransfer||N.data||void 0;f!==!1&&j!=="insertText"&&j!=="insertCompositionText"&&(f=!1);var[K]=N.getTargetRanges();K&&(z=A.toSlateRange(r,K,{exactMatch:!1,suppressThrow:!0}));var ie=A.getWindow(r),J=ie.getSelection();if(!z&&J&&(K=J,z=A.toSlateRange(r,J,{exactMatch:!1,suppressThrow:!0})),z=(W=z)!==null&&W!==void 0?W:r.selection,!!z){var te=!0;if(j.startsWith("delete")){if(E.isExpanded(z)){var[he,oe]=E.edges(z),pe=M.leaf(r,he.path);if(pe.text.length===he.offset&&oe.offset===0){var C=l.next(r,{at:he.path,match:H.isText});C&&D.equals(C[1],oe.path)&&(z={anchor:oe,focus:oe})}}var x=j.endsWith("Backward")?"backward":"forward",[S,L]=E.edges(z),[_,U]=l.leaf(r,S.path),Q={text:"",start:S.offset,end:L.offset},se=Re.get(r),ne=se==null?void 0:se.find(We=>D.equals(We.path,U)),le=ne?[ne.diff,Q]:[Q],re=Gu(_.text,...le);if(re.length===0&&(te=!1),E.isExpanded(z)){if(te&&D.equals(z.anchor.path,z.focus.path)){var me={path:z.anchor.path,offset:S.offset},Ce=l.range(r,me,me);return y(Ce),m(z.anchor.path,{text:"",end:L.offset,start:S.offset})}return B(()=>l.deleteFragment(r,{direction:x}),{at:z})}}switch(j){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return B(()=>l.deleteFragment(r),{at:z});case"deleteContent":case"deleteContentForward":{var{anchor:ge}=z;if(te&&E.isCollapsed(z)){var ze=M.leaf(r,ge.path);if(ge.offset<ze.text.length)return m(ge.path,{text:"",start:ge.offset,end:ge.offset+1})}return B(()=>l.deleteForward(r),{at:z})}case"deleteContentBackward":{var Ve,{anchor:Pe}=z,Le=cn(K)?K.isCollapsed:!!((Ve=K)!==null&&Ve!==void 0&&Ve.collapsed);return te&&Le&&E.isCollapsed(z)&&Pe.offset>0?m(Pe.path,{text:"",start:Pe.offset-1,end:Pe.offset}):B(()=>l.deleteBackward(r),{at:z})}case"deleteEntireSoftLine":return B(()=>{l.deleteBackward(r,{unit:"line"}),l.deleteForward(r,{unit:"line"})},{at:z});case"deleteHardLineBackward":return B(()=>l.deleteBackward(r,{unit:"block"}),{at:z});case"deleteSoftLineBackward":return B(()=>l.deleteBackward(r,{unit:"line"}),{at:z});case"deleteHardLineForward":return B(()=>l.deleteForward(r,{unit:"block"}),{at:z});case"deleteSoftLineForward":return B(()=>l.deleteForward(r,{unit:"line"}),{at:z});case"deleteWordBackward":return B(()=>l.deleteBackward(r,{unit:"word"}),{at:z});case"deleteWordForward":return B(()=>l.deleteForward(r,{unit:"word"}),{at:z});case"insertLineBreak":return B(()=>l.insertSoftBreak(r),{at:z});case"insertParagraph":return B(()=>l.insertBreak(r),{at:z});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(Sc(ee))return B(()=>A.insertData(r,ee),{at:z});var ce=ee??"";if(He.get(r)&&(ce=ce.replace("\uFEFF","")),j==="insertText"&&/.*\n.*\n$/.test(ce)&&(ce=ce.slice(0,-1)),ce.includes(`
`))return B(()=>{var We=ce.split(`
`);We.forEach((or,rt)=>{or&&l.insertText(r,or),rt!==We.length-1&&l.insertSoftBreak(r)})},{at:z});if(D.equals(z.anchor.path,z.focus.path)){var[Fe,Be]=E.edges(z),Ee={start:Fe.offset,end:Be.offset,text:ce};if(ce&&f&&j==="insertCompositionText"){var $e=f.start+f.text.search(/\S|$/),et=Ee.start+Ee.text.search(/\S|$/);et===$e+1&&Ee.end===f.start+f.text.length?(Ee.start-=1,f=null,$()):f=!1}else j==="insertText"?f===null?f=Ee:f&&E.isCollapsed(z)&&f.end+f.text.length===Fe.offset?f=ot(ot({},f),{},{text:f.text+ce}):f=!1:f=!1;if(te){m(Fe.path,Ee);return}}return B(()=>l.insertText(r,ce),{at:z})}}}},F=()=>!!tr.get(r),O=()=>{var N;return!!((N=Re.get(r))!==null&&N!==void 0&&N.length)},T=()=>F()||O(),k=()=>a,y=N=>{nr.set(r,N),s&&(clearTimeout(s),s=null);var{selection:W}=r;if(N){var j=!W||!D.equals(W.anchor.path,N.anchor.path),z=!W||!D.equals(W.anchor.path.slice(0,-1),N.anchor.path.slice(0,-1));(j&&f||z)&&(f=!1),(j||O())&&(s=setTimeout(h,yc))}},I=()=>{(F()||!O())&&h()},R=N=>{O()||(o(!0),setTimeout(o))},$=()=>{F()||(i=setTimeout(h))},G=N=>{if(!(O()||F())&&N.some(j=>kn(r,j,N))){var W;(W=qu.get(r))===null||W===void 0||W()}};return{flush:h,scheduleFlush:$,hasPendingDiffs:O,hasPendingAction:F,hasPendingChanges:T,isFlushing:k,handleUserSelect:y,handleCompositionEnd:p,handleCompositionStart:g,handleDOMBeforeInput:b,handleKeyDown:R,handleDomMutations:G,handleInput:I}}function Pc(){var e=P.useRef(!1);return P.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var Gr=ht?P.useLayoutEffect:P.useEffect;function Rc(e,r,t){var[n]=P.useState(()=>new MutationObserver(r));Gr(()=>{n.takeRecords()}),P.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,t),()=>n.disconnect()},[n,e,t])}var Tc=["node"];function Wa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Nc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wa(Object(t),!0).forEach(function(n){Ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Mc={subtree:!0,childList:!0,characterData:!0},jc=Se?e=>{var{node:r}=e,t=xr(e,Tc);if(!Se)return null;var n=ir(),a=Pc(),[u]=P.useState(()=>xc(Nc({editor:n},t)));return Rc(r,u.handleDomMutations,Mc),Mn.set(n,u.scheduleFlush),a&&u.flush(),u}:()=>null,kc=["anchor","focus"],Ic=["anchor","focus"],zc=(e,r)=>Object.keys(e).length===Object.keys(r).length&&Object.keys(e).every(t=>r.hasOwnProperty(t)&&e[t]===r[t]),Xu=(e,r)=>{var t=xr(e,kc),n=xr(r,Ic);return e[Pr]===r[Pr]&&zc(t,n)},Lc=(e,r)=>{if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++){var n=e[t],a=r[t];if(!E.equals(n,a)||!Xu(n,a))return!1}return!0},$c=(e,r)=>{if(e.length!==r.length)return!1;for(var t=0;t<e.length;t++){var n=e[t],a=r[t];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!Xu(n,a))return!1}return!0};function qa(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Wc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qa(Object(t),!0).forEach(function(n){Ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qa(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var qc=e=>{var{isLast:r,leaf:t,parent:n,text:a}=e,u=ir(),s=A.findPath(u,a),i=D.parent(s),c=!!t[Hu];return u.isVoid(n)?Y.createElement(Yt,{length:M.string(n).length}):t.text===""&&n.children[n.children.length-1]===a&&!u.isInline(n)&&l.string(u,i)===""?Y.createElement(Yt,{isLineBreak:!0,isMarkPlaceholder:c}):t.text===""?Y.createElement(Yt,{isMarkPlaceholder:c}):r&&t.text.slice(-1)===`
`?Y.createElement(Ha,{isTrailing:!0,text:t.text}):Y.createElement(Ha,{text:t.text})},Ha=e=>{var{text:r,isTrailing:t=!1}=e,n=P.useRef(null),a=()=>"".concat(r??"").concat(t?`
`:""),[u]=P.useState(a);return Gr(()=>{var s=a();n.current&&n.current.textContent!==s&&(n.current.textContent=s)}),Y.createElement(Hc,{ref:n},u)},Hc=P.memo(P.forwardRef((e,r)=>Y.createElement("span",{"data-slate-string":!0,ref:r},e.children))),Yt=e=>{var{length:r=0,isLineBreak:t=!1,isMarkPlaceholder:n=!1}=e,a={"data-slate-zero-width":t?"n":"z","data-slate-length":r};return n&&(a["data-slate-mark-placeholder"]=!0),Y.createElement("span",Wc({},a),!Se||!t?"\uFEFF":null,t?Y.createElement("br",null):null)};function Va(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ju(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Va(Object(t),!0).forEach(function(n){Ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Va(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Vc=Se?300:0;function Kc(e,r){e.current&&(e.current.disconnect(),r&&(e.current=null))}function Ka(e){e.current&&(clearTimeout(e.current),e.current=null)}var Uc=e=>{var{leaf:r,isLast:t,text:n,parent:a,renderPlaceholder:u,renderLeaf:s=b=>Y.createElement(Yc,Ju({},b))}=e,i=ir(),c=P.useRef(null),f=P.useRef(null),[d,v]=P.useState(!1),h=P.useRef(null),p=P.useCallback(b=>{if(Kc(c,b==null),b==null){var F;sn.delete(i),(F=r.onPlaceholderResize)===null||F===void 0||F.call(r,null)}else{if(sn.set(i,b),!c.current){var O=window.ResizeObserver||_l;c.current=new O(()=>{var T;(T=r.onPlaceholderResize)===null||T===void 0||T.call(r,b)})}c.current.observe(b),f.current=b}},[f,r,i]),g=Y.createElement(qc,{isLast:t,leaf:r,parent:a,text:n}),o=!!r[Pr];if(P.useEffect(()=>(o?h.current||(h.current=setTimeout(()=>{v(!0),h.current=null},Vc)):(Ka(h),v(!1)),()=>Ka(h)),[o,v]),o&&d){var m={children:r.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:kr?"inherit":void 0},contentEditable:!1,ref:p}};g=Y.createElement(Y.Fragment,null,u(m),g)}var B={"data-slate-leaf":!0};return s({attributes:B,children:g,leaf:r,text:n})},Gc=Y.memo(Uc,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&r.text===e.text&&H.equals(r.leaf,e.leaf)&&r.leaf[Pr]===e.leaf[Pr]),Yc=e=>{var{attributes:r,children:t}=e;return Y.createElement("span",Ju({},r),t)},Xc=e=>{for(var{decorations:r,isLast:t,parent:n,renderPlaceholder:a,renderLeaf:u,text:s}=e,i=ir(),c=P.useRef(null),f=H.decorations(s,r),d=A.findKey(i,s),v=[],h=0;h<f.length;h++){var p=f[h];v.push(Y.createElement(Gc,{isLast:t&&h===f.length-1,key:"".concat(d.id,"-").concat(h),renderPlaceholder:a,leaf:p,text:s,parent:n,renderLeaf:u}))}var g=P.useCallback(o=>{var m=Tt.get(i);o?(m==null||m.set(d,o),hr.set(s,o),Ur.set(o,s)):(m==null||m.delete(d),hr.delete(s),c.current&&Ur.delete(c.current)),c.current=o},[c,i,d,s]);return Y.createElement("span",{"data-slate-node":"text",ref:g},v)},Zu=Y.memo(Xc,(e,r)=>r.parent===e.parent&&r.isLast===e.isLast&&r.renderLeaf===e.renderLeaf&&r.renderPlaceholder===e.renderPlaceholder&&r.text===e.text&&$c(r.decorations,e.decorations));function Ua(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function vn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ua(Object(t),!0).forEach(function(n){Ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ua(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Jc=e=>{var{decorations:r,element:t,renderElement:n=b=>Y.createElement(_c,vn({},b)),renderPlaceholder:a,renderLeaf:u,selection:s}=e,i=ir(),c=ef(),f=i.isInline(t),d=A.findKey(i,t),v=P.useCallback(b=>{var F=Tt.get(i);b?(F==null||F.set(d,b),hr.set(t,b),Ur.set(b,t)):(F==null||F.delete(d),hr.delete(t))},[i,d,t]),h=rs({decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}),p={"data-slate-node":"element",ref:v};if(f&&(p["data-slate-inline"]=!0),!f&&l.hasInlines(i,t)){var g=M.string(t),o=bu(g);o==="rtl"&&(p.dir=o)}if(l.isVoid(i,t)){p["data-slate-void"]=!0,!c&&f&&(p.contentEditable=!1);var m=f?"span":"div",[[B]]=M.texts(t);h=Y.createElement(m,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},Y.createElement(Zu,{renderPlaceholder:a,decorations:[],isLast:!1,parent:t,text:B})),Tn.set(B,0),Nn.set(B,t)}return n({attributes:p,children:h,element:t})},Zc=Y.memo(Jc,(e,r)=>e.element===r.element&&e.renderElement===r.renderElement&&e.renderLeaf===r.renderLeaf&&e.renderPlaceholder===r.renderPlaceholder&&Lc(e.decorations,r.decorations)&&(e.selection===r.selection||!!e.selection&&!!r.selection&&E.equals(e.selection,r.selection))),_c=e=>{var{attributes:r,children:t,element:n}=e,a=ir(),u=a.isInline(n)?"span":"div";return Y.createElement(u,vn(vn({},r),{},{style:{position:"relative"}}),t)},_u=P.createContext(()=>[]),Qc=()=>P.useContext(_u),Qu=P.createContext(!1),es=()=>P.useContext(Qu),rs=e=>{for(var{decorations:r,node:t,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}=e,i=Qc(),c=ir(),f=A.findPath(c,t),d=[],v=q.isElement(t)&&!c.isInline(t)&&l.hasInlines(c,t),h=0;h<t.children.length;h++){var p=f.concat(h),g=t.children[h],o=A.findKey(c,g),m=l.range(c,p),B=s&&E.intersection(m,s),b=i([g,p]);for(var F of r){var O=E.intersection(F,m);O&&b.push(O)}q.isElement(g)?d.push(Y.createElement(Qu.Provider,{key:"provider-".concat(o.id),value:!!B},Y.createElement(Zc,{decorations:b,element:g,key:o.id,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:B}))):d.push(Y.createElement(Zu,{decorations:b,key:o.id,isLast:v&&h===t.children.length-1,parent:t,renderPlaceholder:a,renderLeaf:u,text:g})),Tn.set(g,h),Nn.set(g,t)}return d},ts=P.createContext(!1),ef=()=>P.useContext(ts),ns=P.createContext(null),Cr=()=>{var e=P.useContext(ns);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:r}=e;return r};function rf(){var e=ir(),r=P.useRef(!1),t=P.useRef(0),n=P.useCallback(()=>{if(!r.current){r.current=!0;var a=A.getWindow(e);a.cancelAnimationFrame(t.current),t.current=a.requestAnimationFrame(()=>{r.current=!1})}},[e]);return P.useEffect(()=>()=>cancelAnimationFrame(t.current),[]),{receivedUserInput:r,onUserInput:n}}var tf=3,nf={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},af={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},uf={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},de=e=>{var r=nf[e],t=af[e],n=uf[e],a=r&&qt(r),u=t&&qt(t),s=n&&qt(n);return i=>!!(a&&a(i)||Ia&&u&&u(i)||!Ia&&s&&s(i))},ve={isBold:de("bold"),isCompose:de("compose"),isMoveBackward:de("moveBackward"),isMoveForward:de("moveForward"),isDeleteBackward:de("deleteBackward"),isDeleteForward:de("deleteForward"),isDeleteLineBackward:de("deleteLineBackward"),isDeleteLineForward:de("deleteLineForward"),isDeleteWordBackward:de("deleteWordBackward"),isDeleteWordForward:de("deleteWordForward"),isExtendBackward:de("extendBackward"),isExtendForward:de("extendForward"),isExtendLineBackward:de("extendLineBackward"),isExtendLineForward:de("extendLineForward"),isItalic:de("italic"),isMoveLineBackward:de("moveLineBackward"),isMoveLineForward:de("moveLineForward"),isMoveWordBackward:de("moveWordBackward"),isMoveWordForward:de("moveWordForward"),isRedo:de("redo"),isSoftBreak:de("insertSoftBreak"),isSplitBlock:de("splitBlock"),isTransposeCharacter:de("transposeCharacter"),isUndo:de("undo")},sf=(e,r)=>{var t=[],n=()=>{t=[]},a=s=>{if(r.current){var i=s.filter(c=>kn(e,c,s));t.push(...i)}};function u(){t.length>0&&(t.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(i=>{s.target.insertBefore(i,s.nextSibling)}),s.addedNodes.forEach(i=>{s.target.removeChild(i)}))}),n())}return{registerMutations:a,restoreDOM:u,clear:n}},of={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class as extends P.Component{constructor(){super(...arguments),Ie(this,"context",null),Ie(this,"manager",null),Ie(this,"mutationObserver",null)}observe(){var r,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(r=this.mutationObserver)===null||r===void 0||r.observe(t.current,of)}componentDidMount(){var{receivedUserInput:r}=this.props,t=this.context;this.manager=sf(t,r),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var r,t,n,a=(r=this.mutationObserver)===null||r===void 0?void 0:r.takeRecords();if(a!=null&&a.length){var u;(u=this.manager)===null||u===void 0||u.registerMutations(a)}return(t=this.mutationObserver)===null||t===void 0||t.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var r;(r=this.manager)===null||r===void 0||r.clear(),this.observe()}componentWillUnmount(){var r;(r=this.mutationObserver)===null||r===void 0||r.disconnect()}render(){return this.props.children}}Ie(as,"contextType",Rn);var lf=Se?as:e=>{var{children:r}=e;return Y.createElement(Y.Fragment,null,r)},cf=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],ff=["text"];function Ga(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ue(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ga(Object(t),!0).forEach(function(n){Ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ga(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var df=e=>Y.createElement(Y.Fragment,null,rs(e)),vf=e=>{var r=P.useCallback(C=>Y.createElement(hf,Ue({},C)),[]),{autoFocus:t,decorate:n=gf,onDOMBeforeInput:a,placeholder:u,readOnly:s=!1,renderElement:i,renderLeaf:c,renderPlaceholder:f=r,scrollSelectionIntoView:d=Df,style:v={},as:h="div",disableDefaultStyles:p=!1}=e,g=xr(e,cf),o=Cr(),[m,B]=P.useState(!1),b=P.useRef(null),F=P.useRef([]),[O,T]=P.useState(),{onUserInput:k,receivedUserInput:y}=rf(),[,I]=P.useReducer(C=>C+1,0);qu.set(o,I),on.set(o,s);var R=P.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);P.useEffect(()=>{b.current&&t&&b.current.focus()},[t]);var $=P.useRef(),G=P.useMemo(()=>js(()=>{var C=$.current;if((Se||!A.isComposing(o))&&(!R.isUpdatingSelection||C!=null&&C.isFlushing())&&!R.isDraggingInternally){var x=A.findDocumentOrShadowRoot(o),{activeElement:S}=x,L=A.toDOMNode(o,o),_=x.getSelection();if(S===L?(R.latestElement=S,ur.set(o,!0)):ur.delete(o),!_)return w.deselect(o);var{anchorNode:U,focusNode:Q}=_,se=A.hasEditableTarget(o,U)||A.isTargetInsideNonReadonlyVoid(o,U),ne=A.hasEditableTarget(o,Q)||A.isTargetInsideNonReadonlyVoid(o,Q);if(se&&ne){var le=A.toSlateRange(o,_,{exactMatch:!1,suppressThrow:!0});le&&(!A.isComposing(o)&&!(C!=null&&C.hasPendingChanges())&&!(C!=null&&C.isFlushing())?w.select(o,le):C==null||C.handleUserSelect(le))}s&&(!se||!ne)&&w.deselect(o)}},100),[o,s,R]),N=P.useMemo(()=>ks(G,0),[G]);$.current=jc({node:b,onDOMSelectionChange:G,scheduleOnDOMSelectionChange:N}),Gr(()=>{var C,x,S;b.current&&(S=jn(b.current))?(Wu.set(o,S),gt.set(o,b.current),hr.set(o,b.current),Ur.set(b.current,o)):hr.delete(o);var{selection:L}=o,_=A.findDocumentOrShadowRoot(o),U=_.getSelection();if(!(!U||!A.isFocused(o)||(C=$.current)!==null&&C!==void 0&&C.hasPendingAction())){var Q=re=>{var me=U.type!=="None";if(!(!L&&!me)){var Ce=U.focusNode,ge;if(wr&&U.rangeCount>1){var ze=U.getRangeAt(0),Ve=U.getRangeAt(U.rangeCount-1);ze.startContainer===Ce?ge=Ve.endContainer:ge=ze.startContainer}else ge=U.anchorNode;var Pe=gt.get(o),Le=!1;if(Pe.contains(ge)&&Pe.contains(Ce)&&(Le=!0),me&&Le&&L&&!re){var ce=A.toSlateRange(o,U,{exactMatch:!0,suppressThrow:!0});if(ce&&E.equals(ce,L)){var Fe;if(!R.hasMarkPlaceholder||(Fe=ge)!==null&&Fe!==void 0&&(Fe=Fe.parentElement)!==null&&Fe!==void 0&&Fe.hasAttribute("data-slate-mark-placeholder"))return}}if(L&&!A.hasRange(o,L)){o.selection=A.toSlateRange(o,U,{exactMatch:!1,suppressThrow:!0});return}R.isUpdatingSelection=!0;var Be=L&&A.toDOMRange(o,L);return Be?(A.isComposing(o)&&!Se?U.collapseToEnd():E.isBackward(L)?U.setBaseAndExtent(Be.endContainer,Be.endOffset,Be.startContainer,Be.startOffset):U.setBaseAndExtent(Be.startContainer,Be.startOffset,Be.endContainer,Be.endOffset),d(o,Be)):U.removeAllRanges(),Be}};U.rangeCount<=1&&Q();var se=((x=$.current)===null||x===void 0?void 0:x.isFlushing())==="action";if(!Se||!se){setTimeout(()=>{R.isUpdatingSelection=!1});return}var ne=null,le=requestAnimationFrame(()=>{if(se){var re=me=>{try{var Ce=A.toDOMNode(o,o);Ce.focus(),Q(me)}catch{}};re(),ne=setTimeout(()=>{re(!0),R.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(le),ne&&clearTimeout(ne)}}});var W=P.useCallback(C=>{if(k(),!s&&A.hasEditableTarget(o,C.target)&&!pf(C,a)){var x;if($.current)return $.current.handleDOMBeforeInput(C);N.flush(),G.flush();var{selection:S}=o,{inputType:L}=C,_=C.dataTransfer||C.data||void 0,U=L==="insertCompositionText"||L==="deleteCompositionText";if(U&&A.isComposing(o))return;var Q=!1;if(L==="insertText"&&S&&E.isCollapsed(S)&&C.data&&C.data.length===1&&/[a-z ]/i.test(C.data)&&S.anchor.offset!==0){var se,ne;Q=!0,o.marks&&(Q=!1);var{anchor:le}=S,[re,me]=A.toDOMPoint(o,le),Ce=(se=re.parentElement)===null||se===void 0?void 0:se.closest("a"),ge=A.getWindow(o);if(Q&&Ce&&A.hasDOMNode(o,Ce)){var ze,Ve=ge==null?void 0:ge.document.createTreeWalker(Ce,NodeFilter.SHOW_TEXT).lastChild();Ve===re&&((ze=Ve.textContent)===null||ze===void 0?void 0:ze.length)===me&&(Q=!1)}if(Q&&re.parentElement&&(ge==null||(ne=ge.getComputedStyle(re.parentElement))===null||ne===void 0?void 0:ne.whiteSpace)==="pre"){var Pe=l.above(o,{at:le.path,match:$e=>q.isElement($e)&&l.isBlock(o,$e)});Pe&&M.string(Pe[0]).includes("	")&&(Q=!1)}}if(!L.startsWith("delete")||L.startsWith("deleteBy")){var[Le]=C.getTargetRanges();if(Le){var ce=A.toSlateRange(o,Le,{exactMatch:!1,suppressThrow:!1});if(!S||!E.equals(S,ce)){Q=!1;var Fe=!U&&o.selection&&l.rangeRef(o,o.selection);w.select(o,ce),Fe&&Lr.set(o,Fe)}}}if(U)return;if(Q||C.preventDefault(),S&&E.isExpanded(S)&&L.startsWith("delete")){var Be=L.endsWith("Backward")?"backward":"forward";l.deleteFragment(o,{direction:Be});return}switch(L){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{l.deleteFragment(o);break}case"deleteContent":case"deleteContentForward":{l.deleteForward(o);break}case"deleteContentBackward":{l.deleteBackward(o);break}case"deleteEntireSoftLine":{l.deleteBackward(o,{unit:"line"}),l.deleteForward(o,{unit:"line"});break}case"deleteHardLineBackward":{l.deleteBackward(o,{unit:"block"});break}case"deleteSoftLineBackward":{l.deleteBackward(o,{unit:"line"});break}case"deleteHardLineForward":{l.deleteForward(o,{unit:"block"});break}case"deleteSoftLineForward":{l.deleteForward(o,{unit:"line"});break}case"deleteWordBackward":{l.deleteBackward(o,{unit:"word"});break}case"deleteWordForward":{l.deleteForward(o,{unit:"word"});break}case"insertLineBreak":l.insertSoftBreak(o);break;case"insertParagraph":{l.insertBreak(o);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{L==="insertFromComposition"&&A.isComposing(o)&&(B(!1),fr.set(o,!1)),(_==null?void 0:_.constructor.name)==="DataTransfer"?A.insertData(o,_):typeof _=="string"&&(Q?F.current.push(()=>l.insertText(o,_)):l.insertText(o,_));break}}var Ee=(x=Lr.get(o))===null||x===void 0?void 0:x.unref();Lr.delete(o),Ee&&(!o.selection||!E.equals(o.selection,Ee))&&w.select(o,Ee)}},[o,G,k,a,s,N]),j=P.useCallback(C=>{C==null?(G.cancel(),N.cancel(),gt.delete(o),hr.delete(o),b.current&&rr&&b.current.removeEventListener("beforeinput",W)):rr&&C.addEventListener("beforeinput",W),b.current=C},[G,N,o,W]);Gr(()=>{var C=A.getWindow(o);return C.document.addEventListener("selectionchange",N),()=>{C.document.removeEventListener("selectionchange",N)}},[N]);var z=n([o,[]]),ee=u&&o.children.length===1&&Array.from(M.texts(o)).length===1&&M.string(o)===""&&!m,K=P.useCallback(C=>{if(C&&ee){var x;T((x=C.getBoundingClientRect())===null||x===void 0?void 0:x.height)}else T(void 0)},[ee]);if(ee){var ie=l.start(o,[]);z.push({[Pr]:!0,placeholder:u,onPlaceholderResize:K,anchor:ie,focus:ie})}var{marks:J}=o;if(R.hasMarkPlaceholder=!1,o.selection&&E.isCollapsed(o.selection)&&J){var{anchor:te}=o.selection,he=M.leaf(o,te.path),oe=xr(he,ff);if(!H.equals(he,J,{loose:!0})){R.hasMarkPlaceholder=!0;var pe=Object.fromEntries(Object.keys(oe).map(C=>[C,null]));z.push(Ue(Ue(Ue({[Hu]:!0},pe),J),{},{anchor:te,focus:te}))}}return P.useEffect(()=>{setTimeout(()=>{var{selection:C}=o;if(C){var{anchor:x}=C,S=M.leaf(o,x.path);if(J&&!H.equals(S,J,{loose:!0})){He.set(o,J);return}}He.delete(o)})}),Y.createElement(ts.Provider,{value:s},Y.createElement(_u.Provider,{value:n},Y.createElement(lf,{node:b,receivedUserInput:y},Y.createElement(h,Ue(Ue({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},g),{},{spellCheck:rr||!ht?g.spellCheck:!1,autoCorrect:rr||!ht?g.autoCorrect:"false",autoCapitalize:rr||!ht?g.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:j,style:Ue(Ue({},p?{}:Ue({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},O?{minHeight:O}:{})),v),onBeforeInput:P.useCallback(C=>{if(!rr&&!s&&!Oe(C,g.onBeforeInput)&&A.hasSelectableTarget(o,C.target)&&(C.preventDefault(),!A.isComposing(o))){var x=C.data;l.insertText(o,x)}},[g.onBeforeInput,o,s]),onInput:P.useCallback(C=>{if(!Oe(C,g.onInput)){if($.current){$.current.handleInput();return}for(var x of F.current)x();F.current=[]}},[g.onInput]),onBlur:P.useCallback(C=>{if(!(s||R.isUpdatingSelection||!A.hasSelectableTarget(o,C.target)||Oe(C,g.onBlur))){var x=A.findDocumentOrShadowRoot(o);if(R.latestElement!==x.activeElement){var{relatedTarget:S}=C,L=A.toDOMNode(o,o);if(S!==L&&!(ke(S)&&S.hasAttribute("data-slate-spacer"))){if(S!=null&&sr(S)&&A.hasDOMNode(o,S)){var _=A.toSlateNode(o,S);if(q.isElement(_)&&!o.isVoid(_))return}if(kr){var U=x.getSelection();U==null||U.removeAllRanges()}ur.delete(o)}}}},[s,R.isUpdatingSelection,R.latestElement,o,g.onBlur]),onClick:P.useCallback(C=>{if(A.hasTarget(o,C.target)&&!Oe(C,g.onClick)&&sr(C.target)){var x=A.toSlateNode(o,C.target),S=A.findPath(o,x);if(!l.hasPath(o,S)||M.get(o,S)!==x)return;if(C.detail===tf&&S.length>=1){var L=S;if(!(q.isElement(x)&&l.isBlock(o,x))){var _,U=l.above(o,{match:Ce=>q.isElement(Ce)&&l.isBlock(o,Ce),at:S});L=(_=U==null?void 0:U[1])!==null&&_!==void 0?_:S.slice(0,1)}var Q=l.range(o,L);w.select(o,Q);return}if(s)return;var se=l.start(o,S),ne=l.end(o,S),le=l.void(o,{at:se}),re=l.void(o,{at:ne});if(le&&re&&D.equals(le[1],re[1])){var me=l.range(o,se);w.select(o,me)}}},[o,g.onClick,s]),onCompositionEnd:P.useCallback(C=>{if(A.hasSelectableTarget(o,C.target)){var x;if(A.isComposing(o)&&Promise.resolve().then(()=>{B(!1),fr.set(o,!1)}),(x=$.current)===null||x===void 0||x.handleCompositionEnd(C),Oe(C,g.onCompositionEnd)||Se)return;if(!kr&&!sc&&!tc&&!oc&&!ic&&C.data){var S=He.get(o);He.delete(o),S!==void 0&&(_e.set(o,o.marks),o.marks=S),l.insertText(o,C.data);var L=_e.get(o);_e.delete(o),L!==void 0&&(o.marks=L)}}},[g.onCompositionEnd,o]),onCompositionUpdate:P.useCallback(C=>{A.hasSelectableTarget(o,C.target)&&!Oe(C,g.onCompositionUpdate)&&(A.isComposing(o)||(B(!0),fr.set(o,!0)))},[g.onCompositionUpdate,o]),onCompositionStart:P.useCallback(C=>{if(A.hasSelectableTarget(o,C.target)){var x;if((x=$.current)===null||x===void 0||x.handleCompositionStart(C),Oe(C,g.onCompositionStart)||Se)return;B(!0);var{selection:S}=o;if(S&&E.isExpanded(S)){l.deleteFragment(o);return}}},[g.onCompositionStart,o]),onCopy:P.useCallback(C=>{A.hasSelectableTarget(o,C.target)&&!Oe(C,g.onCopy)&&!Ya(C)&&(C.preventDefault(),A.setFragmentData(o,C.clipboardData,"copy"))},[g.onCopy,o]),onCut:P.useCallback(C=>{if(!s&&A.hasSelectableTarget(o,C.target)&&!Oe(C,g.onCut)&&!Ya(C)){C.preventDefault(),A.setFragmentData(o,C.clipboardData,"cut");var{selection:x}=o;if(x)if(E.isExpanded(x))l.deleteFragment(o);else{var S=M.parent(o,x.anchor.path);l.isVoid(o,S)&&w.delete(o)}}},[s,o,g.onCut]),onDragOver:P.useCallback(C=>{if(A.hasTarget(o,C.target)&&!Oe(C,g.onDragOver)){var x=A.toSlateNode(o,C.target);q.isElement(x)&&l.isVoid(o,x)&&C.preventDefault()}},[g.onDragOver,o]),onDragStart:P.useCallback(C=>{if(!s&&A.hasTarget(o,C.target)&&!Oe(C,g.onDragStart)){var x=A.toSlateNode(o,C.target),S=A.findPath(o,x),L=q.isElement(x)&&l.isVoid(o,x)||l.void(o,{at:S,voids:!0});if(L){var _=l.range(o,S);w.select(o,_)}R.isDraggingInternally=!0,A.setFragmentData(o,C.dataTransfer,"drag")}},[s,o,g.onDragStart,R]),onDrop:P.useCallback(C=>{if(!s&&A.hasTarget(o,C.target)&&!Oe(C,g.onDrop)){C.preventDefault();var x=o.selection,S=A.findEventRange(o,C),L=C.dataTransfer;w.select(o,S),R.isDraggingInternally&&x&&!E.equals(x,S)&&!l.void(o,{at:S,voids:!0})&&w.delete(o,{at:x}),A.insertData(o,L),A.isFocused(o)||A.focus(o)}R.isDraggingInternally=!1},[s,o,g.onDrop,R]),onDragEnd:P.useCallback(C=>{!s&&R.isDraggingInternally&&g.onDragEnd&&A.hasTarget(o,C.target)&&g.onDragEnd(C),R.isDraggingInternally=!1},[s,R,g,o]),onFocus:P.useCallback(C=>{if(!s&&!R.isUpdatingSelection&&A.hasEditableTarget(o,C.target)&&!Oe(C,g.onFocus)){var x=A.toDOMNode(o,o),S=A.findDocumentOrShadowRoot(o);if(R.latestElement=S.activeElement,wr&&C.target!==x){x.focus();return}ur.set(o,!0)}},[s,R,o,g.onFocus]),onKeyDown:P.useCallback(C=>{if(!s&&A.hasEditableTarget(o,C.target)){var x;(x=$.current)===null||x===void 0||x.handleKeyDown(C);var{nativeEvent:S}=C;if(A.isComposing(o)&&S.isComposing===!1&&(fr.set(o,!1),B(!1)),Oe(C,g.onKeyDown)||A.isComposing(o))return;var{selection:L}=o,_=o.children[L!==null?L.focus.path[0]:0],U=bu(M.string(_))==="rtl";if(ve.isRedo(S)){C.preventDefault();var Q=o;typeof Q.redo=="function"&&Q.redo();return}if(ve.isUndo(S)){C.preventDefault();var se=o;typeof se.undo=="function"&&se.undo();return}if(ve.isMoveLineBackward(S)){C.preventDefault(),w.move(o,{unit:"line",reverse:!0});return}if(ve.isMoveLineForward(S)){C.preventDefault(),w.move(o,{unit:"line"});return}if(ve.isExtendLineBackward(S)){C.preventDefault(),w.move(o,{unit:"line",edge:"focus",reverse:!0});return}if(ve.isExtendLineForward(S)){C.preventDefault(),w.move(o,{unit:"line",edge:"focus"});return}if(ve.isMoveBackward(S)){C.preventDefault(),L&&E.isCollapsed(L)?w.move(o,{reverse:!U}):w.collapse(o,{edge:U?"end":"start"});return}if(ve.isMoveForward(S)){C.preventDefault(),L&&E.isCollapsed(L)?w.move(o,{reverse:U}):w.collapse(o,{edge:U?"start":"end"});return}if(ve.isMoveWordBackward(S)){C.preventDefault(),L&&E.isExpanded(L)&&w.collapse(o,{edge:"focus"}),w.move(o,{unit:"word",reverse:!U});return}if(ve.isMoveWordForward(S)){C.preventDefault(),L&&E.isExpanded(L)&&w.collapse(o,{edge:"focus"}),w.move(o,{unit:"word",reverse:U});return}if(rr){if(($u||kr)&&L&&(ve.isDeleteBackward(S)||ve.isDeleteForward(S))&&E.isCollapsed(L)){var ne=M.parent(o,L.anchor.path);if(q.isElement(ne)&&l.isVoid(o,ne)&&(l.isInline(o,ne)||l.isBlock(o,ne))){C.preventDefault(),l.deleteBackward(o,{unit:"block"});return}}}else{if(ve.isBold(S)||ve.isItalic(S)||ve.isTransposeCharacter(S)){C.preventDefault();return}if(ve.isSoftBreak(S)){C.preventDefault(),l.insertSoftBreak(o);return}if(ve.isSplitBlock(S)){C.preventDefault(),l.insertBreak(o);return}if(ve.isDeleteBackward(S)){C.preventDefault(),L&&E.isExpanded(L)?l.deleteFragment(o,{direction:"backward"}):l.deleteBackward(o);return}if(ve.isDeleteForward(S)){C.preventDefault(),L&&E.isExpanded(L)?l.deleteFragment(o,{direction:"forward"}):l.deleteForward(o);return}if(ve.isDeleteLineBackward(S)){C.preventDefault(),L&&E.isExpanded(L)?l.deleteFragment(o,{direction:"backward"}):l.deleteBackward(o,{unit:"line"});return}if(ve.isDeleteLineForward(S)){C.preventDefault(),L&&E.isExpanded(L)?l.deleteFragment(o,{direction:"forward"}):l.deleteForward(o,{unit:"line"});return}if(ve.isDeleteWordBackward(S)){C.preventDefault(),L&&E.isExpanded(L)?l.deleteFragment(o,{direction:"backward"}):l.deleteBackward(o,{unit:"word"});return}if(ve.isDeleteWordForward(S)){C.preventDefault(),L&&E.isExpanded(L)?l.deleteFragment(o,{direction:"forward"}):l.deleteForward(o,{unit:"word"});return}}}},[s,o,g.onKeyDown]),onPaste:P.useCallback(C=>{!s&&A.hasEditableTarget(o,C.target)&&!Oe(C,g.onPaste)&&(!rr||fc(C.nativeEvent)||kr)&&(C.preventDefault(),A.insertData(o,C.clipboardData))},[s,o,g.onPaste])}),Y.createElement(df,{decorations:z,node:o,renderElement:i,renderPlaceholder:f,renderLeaf:c,selection:o.selection})))))},hf=e=>{var{attributes:r,children:t}=e;return Y.createElement("span",Ue({},r),t,Se&&Y.createElement("br",null))},gf=()=>[],Df=(e,r)=>{if(r.getBoundingClientRect&&(!e.selection||e.selection&&E.isCollapsed(e.selection))){var t=r.startContainer.parentElement;t.getBoundingClientRect=r.getBoundingClientRect.bind(r),Qs(t,{scrollMode:"if-needed"}),delete t.getBoundingClientRect}},Oe=(e,r)=>{if(!r)return!1;var t=r(e);return t??(e.isDefaultPrevented()||e.isPropagationStopped())},Ya=e=>sr(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),pf=(e,r)=>{if(!r)return!1;var t=r(e);return t??e.defaultPrevented},mf=P.createContext(!1),Cf=P.createContext({});function Bf(e){var r=P.useRef([]).current,t=P.useRef({editor:e}).current,n=P.useCallback(u=>{t.editor=u,r.forEach(s=>s(u))},[r,t]),a=P.useMemo(()=>({getSlate:()=>t.editor,addEventListener:u=>(r.push(u),()=>{r.splice(r.indexOf(u),1)})}),[r,t]);return{selectorContext:a,onChange:n}}var Ef=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],bf=e=>{var{editor:r,children:t,onChange:n,onSelectionChange:a,onValueChange:u,initialValue:s}=e,i=xr(e,Ef),[c,f]=Y.useState(()=>{if(!M.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(be.stringify(s)));if(!l.isEditor(r))throw new Error("[Slate] editor is invalid! You passed: ".concat(be.stringify(r)));return r.children=s,Object.assign(r,i),{v:0,editor:r}}),{selectorContext:d,onChange:v}=Bf(r),h=P.useCallback(o=>{var m;switch(n&&n(r.children),o==null||(m=o.operation)===null||m===void 0?void 0:m.type){case"set_selection":a==null||a(r.selection);break;default:u==null||u(r.children)}f(B=>({v:B.v+1,editor:r})),v(r)},[r,v,n,a,u]);P.useEffect(()=>(ln.set(r,h),()=>{ln.set(r,()=>{})}),[r,h]);var[p,g]=P.useState(A.isFocused(r));return P.useEffect(()=>{g(A.isFocused(r))},[r]),Gr(()=>{var o=()=>g(A.isFocused(r));return Lu>=17?(document.addEventListener("focusin",o),document.addEventListener("focusout",o),()=>{document.removeEventListener("focusin",o),document.removeEventListener("focusout",o)}):(document.addEventListener("focus",o,!0),document.addEventListener("blur",o,!0),()=>{document.removeEventListener("focus",o,!0),document.removeEventListener("blur",o,!0)})},[]),Y.createElement(Cf.Provider,{value:d},Y.createElement(ns.Provider,{value:c},Y.createElement(Rn.Provider,{value:c.editor},Y.createElement(mf.Provider,{value:p},t))))},Xa=(e,r)=>{var t=(r.top+r.bottom)/2;return e.top<=t&&e.bottom>=t},Ja=(e,r,t)=>{var n=A.toDOMRange(e,r).getBoundingClientRect(),a=A.toDOMRange(e,t).getBoundingClientRect();return Xa(n,a)&&Xa(a,n)},wf=(e,r)=>{var t=l.range(e,E.end(r)),n=Array.from(l.positions(e,{at:r})),a=0,u=n.length,s=Math.floor(u/2);if(Ja(e,l.range(e,n[a]),t))return l.range(e,n[a],t);if(n.length<2)return l.range(e,n[n.length-1],t);for(;s!==n.length&&s!==a;)Ja(e,l.range(e,n[s]),t)?u=s:a=s,s=Math.floor((a+u)/2);return l.range(e,n[u],t)};function Za(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function _a(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Za(Object(t),!0).forEach(function(n){Ie(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Za(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Af=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=r,{apply:a,onChange:u,deleteBackward:s,addMark:i,removeMark:c}=n;return Tt.set(n,new WeakMap),n.addMark=(f,d)=>{var v,h;(v=Mn.get(n))===null||v===void 0||v(),!He.get(n)&&(h=Re.get(n))!==null&&h!==void 0&&h.length&&He.set(n,null),_e.delete(n),i(f,d)},n.removeMark=f=>{var d;!He.get(n)&&(d=Re.get(n))!==null&&d!==void 0&&d.length&&He.set(n,null),_e.delete(n),c(f)},n.deleteBackward=f=>{if(f!=="line")return s(f);if(n.selection&&E.isCollapsed(n.selection)){var d=l.above(n,{match:g=>q.isElement(g)&&l.isBlock(n,g),at:n.selection});if(d){var[,v]=d,h=l.range(n,v,n.selection.anchor),p=wf(n,h);E.isCollapsed(p)||w.delete(n,{at:p})}}},n.apply=f=>{var d=[],v=[],h=Re.get(n);if(h!=null&&h.length){var p=h.map(j=>Ac(j,f)).filter(Boolean);Re.set(n,p)}var g=nr.get(n);g&&nr.set(n,La(n,g,f));var o=tr.get(n);if(o!=null&&o.at){var m=Z.isPoint(o==null?void 0:o.at)?dn(n,o.at,f):La(n,o.at,f);tr.set(n,m?_a(_a({},o),{},{at:m}):null)}switch(f.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...Er(n,f.path));break}case"set_selection":{var B;(B=Lr.get(n))===null||B===void 0||B.unref(),Lr.delete(n);break}case"insert_node":case"remove_node":{d.push(...Er(n,D.parent(f.path)));break}case"merge_node":{var b=D.previous(f.path);d.push(...Er(n,b));break}case"move_node":{var F=D.common(D.parent(f.path),D.parent(f.newPath));d.push(...Er(n,F));var O;D.isBefore(f.path,f.newPath)?(d.push(...Er(n,D.parent(f.path))),O=f.newPath):(d.push(...Er(n,D.parent(f.newPath))),O=f.path);var T=M.get(r,D.parent(O)),k=A.findKey(n,T),y=l.pathRef(n,D.parent(O));v.push([y,k]);break}}a(f);for(var[I,R]of d){var[$]=l.node(n,I);At.set($,R)}for(var[G,N]of v)if(G.current){var[W]=l.node(n,G.current);At.set(W,N)}},n.setFragmentData=f=>{var{selection:d}=n;if(d){var[v,h]=E.edges(d),p=l.void(n,{at:v.path}),g=l.void(n,{at:h.path});if(!(E.isCollapsed(d)&&!p)){var o=A.toDOMRange(n,d),m=o.cloneContents(),B=m.childNodes[0];if(m.childNodes.forEach($=>{$.textContent&&$.textContent.trim()!==""&&(B=$)}),g){var[b]=g,F=o.cloneRange(),O=A.toDOMNode(n,b);F.setEndAfter(O),m=F.cloneContents()}if(p&&(B=m.querySelector("[data-slate-spacer]")),Array.from(m.querySelectorAll("[data-slate-zero-width]")).forEach($=>{var G=$.getAttribute("data-slate-zero-width")==="n";$.textContent=G?`
`:""}),Vu(B)){var T=B.ownerDocument.createElement("span");T.style.whiteSpace="pre",T.appendChild(B),m.appendChild(T),B=T}var k=n.getFragment(),y=JSON.stringify(k),I=window.btoa(encodeURIComponent(y));B.setAttribute("data-slate-fragment",I),f.setData("application/".concat(t),I);var R=m.ownerDocument.createElement("div");return R.appendChild(m),R.setAttribute("hidden","true"),m.ownerDocument.body.appendChild(R),f.setData("text/html",R.innerHTML),f.setData("text/plain",Uu(R)),m.ownerDocument.body.removeChild(R),f}}},n.insertData=f=>{n.insertFragmentData(f)||n.insertTextData(f)},n.insertFragmentData=f=>{var d=f.getData("application/".concat(t))||Dc(f);if(d){var v=decodeURIComponent(window.atob(d)),h=JSON.parse(v);return n.insertFragment(h),!0}return!1},n.insertTextData=f=>{var d=f.getData("text/plain");if(d){var v=d.split(/\r\n|\r|\n/),h=!1;for(var p of v)h&&w.splitNodes(n,{always:!0}),n.insertText(p),h=!0;return!0}return!1},n.onChange=f=>{var d=Lu<18?Ts.unstable_batchedUpdates:v=>v();d(()=>{var v=ln.get(n);v&&v(f),u(f)})},n},Er=(e,r)=>{var t=[];for(var[n,a]of l.levels(e,{at:r})){var u=A.findKey(e,n);t.push([a,u])}return t},Ff={isHistory(e){return we(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(e.redos.length===0||ar.isOperationList(e.redos[0].operations))&&(e.undos.length===0||ar.isOperationList(e.undos[0].operations))}},Xt=new WeakMap,Jt=new WeakMap,Ar={isHistoryEditor(e){return Ff.isHistory(e.history)&&l.isEditor(e)},isMerging(e){return Jt.get(e)},isSaving(e){return Xt.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,r){var t=Ar.isMerging(e);Jt.set(e,!1),r(),Jt.set(e,t)},withoutSaving(e,r){var t=Ar.isSaving(e);Xt.set(e,!1),r(),Xt.set(e,t)}},yf=e=>{var r=e,{apply:t}=r;return r.history={undos:[],redos:[]},r.redo=()=>{var{history:n}=r,{redos:a}=n;if(a.length>0){var u=a[a.length-1];u.selectionBefore&&w.setSelection(r,u.selectionBefore),Ar.withoutSaving(r,()=>{l.withoutNormalizing(r,()=>{for(var s of u.operations)r.apply(s)})}),n.redos.pop(),r.writeHistory("undos",u)}},r.undo=()=>{var{history:n}=r,{undos:a}=n;if(a.length>0){var u=a[a.length-1];Ar.withoutSaving(r,()=>{l.withoutNormalizing(r,()=>{var s=u.operations.map(ar.inverse).reverse();for(var i of s)r.apply(i);u.selectionBefore&&w.setSelection(r,u.selectionBefore)})}),r.writeHistory("redos",u),n.undos.pop()}},r.apply=n=>{var{operations:a,history:u}=r,{undos:s}=u,i=s[s.length-1],c=i&&i.operations[i.operations.length-1],f=Ar.isSaving(r),d=Ar.isMerging(r);if(f==null&&(f=Sf(n)),f){if(d==null&&(i==null?d=!1:a.length!==0?d=!0:d=Of(n,c)),i&&d)i.operations.push(n);else{var v={operations:[n],selectionBefore:r.selection};r.writeHistory("undos",v)}for(;s.length>100;)s.shift();u.redos=[]}t(n)},r.writeHistory=(n,a)=>{r.history[n].push(a)},r},Of=(e,r)=>!!(r&&e.type==="insert_text"&&r.type==="insert_text"&&e.offset===r.offset+r.text.length&&D.equals(e.path,r.path)||r&&e.type==="remove_text"&&r.type==="remove_text"&&e.offset+e.text.length===r.offset&&D.equals(e.path,r.path)),Sf=(e,r)=>e.type!=="set_selection";function xf(e){if(e.sheet)return e.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===e)return document.styleSheets[r]}function Pf(e){var r=document.createElement("style");return r.setAttribute("data-emotion",e.key),e.nonce!==void 0&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Rf=function(){function e(t){var n=this;this._insertTag=function(a){var u;n.tags.length===0?n.insertionPoint?u=n.insertionPoint.nextSibling:n.prepend?u=n.container.firstChild:u=n.before:u=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,u),n.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var r=e.prototype;return r.hydrate=function(n){n.forEach(this._insertTag)},r.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Pf(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var u=xf(a);try{u.insertRule(n,u.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},r.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ye="-ms-",Ft="-moz-",ae="-webkit-",us="comm",In="rule",zn="decl",Tf="@import",ss="@keyframes",Nf="@layer",Mf=Math.abs,Nt=String.fromCharCode,jf=Object.assign;function kf(e,r){return Ae(e,0)^45?(((r<<2^Ae(e,0))<<2^Ae(e,1))<<2^Ae(e,2))<<2^Ae(e,3):0}function is(e){return e.trim()}function If(e,r){return(e=r.exec(e))?e[0]:e}function ue(e,r,t){return e.replace(r,t)}function hn(e,r){return e.indexOf(r)}function Ae(e,r){return e.charCodeAt(r)|0}function Yr(e,r,t){return e.slice(r,t)}function Ge(e){return e.length}function Ln(e){return e.length}function lt(e,r){return r.push(e),e}function zf(e,r){return e.map(r).join("")}var Mt=1,Rr=1,os=0,Te=0,De=0,Nr="";function jt(e,r,t,n,a,u,s){return{value:e,root:r,parent:t,type:n,props:a,children:u,line:Mt,column:Rr,length:s,return:""}}function jr(e,r){return jf(jt("",null,null,"",null,null,0),e,{length:-e.length},r)}function Lf(){return De}function $f(){return De=Te>0?Ae(Nr,--Te):0,Rr--,De===10&&(Rr=1,Mt--),De}function Ne(){return De=Te<os?Ae(Nr,Te++):0,Rr++,De===10&&(Rr=1,Mt++),De}function Xe(){return Ae(Nr,Te)}function Dt(){return Te}function Qr(e,r){return Yr(Nr,e,r)}function Xr(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ls(e){return Mt=Rr=1,os=Ge(Nr=e),Te=0,[]}function cs(e){return Nr="",e}function pt(e){return is(Qr(Te-1,gn(e===91?e+2:e===40?e+1:e)))}function Wf(e){for(;(De=Xe())&&De<33;)Ne();return Xr(e)>2||Xr(De)>3?"":" "}function qf(e,r){for(;--r&&Ne()&&!(De<48||De>102||De>57&&De<65||De>70&&De<97););return Qr(e,Dt()+(r<6&&Xe()==32&&Ne()==32))}function gn(e){for(;Ne();)switch(De){case e:return Te;case 34:case 39:e!==34&&e!==39&&gn(De);break;case 40:e===41&&gn(e);break;case 92:Ne();break}return Te}function Hf(e,r){for(;Ne()&&e+De!==47+10;)if(e+De===42+42&&Xe()===47)break;return"/*"+Qr(r,Te-1)+"*"+Nt(e===47?e:Ne())}function Vf(e){for(;!Xr(Xe());)Ne();return Qr(e,Te)}function Kf(e){return cs(mt("",null,null,null,[""],e=ls(e),0,[0],e))}function mt(e,r,t,n,a,u,s,i,c){for(var f=0,d=0,v=s,h=0,p=0,g=0,o=1,m=1,B=1,b=0,F="",O=a,T=u,k=n,y=F;m;)switch(g=b,b=Ne()){case 40:if(g!=108&&Ae(y,v-1)==58){hn(y+=ue(pt(b),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:y+=pt(b);break;case 9:case 10:case 13:case 32:y+=Wf(g);break;case 92:y+=qf(Dt()-1,7);continue;case 47:switch(Xe()){case 42:case 47:lt(Uf(Hf(Ne(),Dt()),r,t),c);break;default:y+="/"}break;case 123*o:i[f++]=Ge(y)*B;case 125*o:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+d:B==-1&&(y=ue(y,/\f/g,"")),p>0&&Ge(y)-v&&lt(p>32?eu(y+";",n,t,v-1):eu(ue(y," ","")+";",n,t,v-2),c);break;case 59:y+=";";default:if(lt(k=Qa(y,r,t,f,d,a,i,F,O=[],T=[],v),u),b===123)if(d===0)mt(y,r,k,k,O,u,v,i,T);else switch(h===99&&Ae(y,3)===110?100:h){case 100:case 108:case 109:case 115:mt(e,k,k,n&&lt(Qa(e,k,k,0,0,a,i,F,a,O=[],v),T),a,T,v,i,n?O:T);break;default:mt(y,k,k,k,[""],T,0,i,T)}}f=d=p=0,o=B=1,F=y="",v=s;break;case 58:v=1+Ge(y),p=g;default:if(o<1){if(b==123)--o;else if(b==125&&o++==0&&$f()==125)continue}switch(y+=Nt(b),b*o){case 38:B=d>0?1:(y+="\f",-1);break;case 44:i[f++]=(Ge(y)-1)*B,B=1;break;case 64:Xe()===45&&(y+=pt(Ne())),h=Xe(),d=v=Ge(F=y+=Vf(Dt())),b++;break;case 45:g===45&&Ge(y)==2&&(o=0)}}return u}function Qa(e,r,t,n,a,u,s,i,c,f,d){for(var v=a-1,h=a===0?u:[""],p=Ln(h),g=0,o=0,m=0;g<n;++g)for(var B=0,b=Yr(e,v+1,v=Mf(o=s[g])),F=e;B<p;++B)(F=is(o>0?h[B]+" "+b:ue(b,/&\f/g,h[B])))&&(c[m++]=F);return jt(e,r,t,a===0?In:i,c,f,d)}function Uf(e,r,t){return jt(e,r,t,us,Nt(Lf()),Yr(e,2,-2),0)}function eu(e,r,t,n){return jt(e,r,t,zn,Yr(e,0,n),Yr(e,n+1,-1),n)}function Or(e,r){for(var t="",n=Ln(e),a=0;a<n;a++)t+=r(e[a],a,e,r)||"";return t}function Gf(e,r,t,n){switch(e.type){case Nf:if(e.children.length)break;case Tf:case zn:return e.return=e.return||e.value;case us:return"";case ss:return e.return=e.value+"{"+Or(e.children,n)+"}";case In:e.value=e.props.join(",")}return Ge(t=Or(e.children,n))?e.return=e.value+"{"+t+"}":""}function Yf(e){var r=Ln(e);return function(t,n,a,u){for(var s="",i=0;i<r;i++)s+=e[i](t,n,a,u)||"";return s}}function Xf(e){return function(r){r.root||(r=r.return)&&e(r)}}function Jf(e){var r=Object.create(null);return function(t){return r[t]===void 0&&(r[t]=e(t)),r[t]}}var Zf=function(r,t,n){for(var a=0,u=0;a=u,u=Xe(),a===38&&u===12&&(t[n]=1),!Xr(u);)Ne();return Qr(r,Te)},_f=function(r,t){var n=-1,a=44;do switch(Xr(a)){case 0:a===38&&Xe()===12&&(t[n]=1),r[n]+=Zf(Te-1,t,n);break;case 2:r[n]+=pt(a);break;case 4:if(a===44){r[++n]=Xe()===58?"&\f":"",t[n]=r[n].length;break}default:r[n]+=Nt(a)}while(a=Ne());return r},Qf=function(r,t){return cs(_f(ls(r),t))},ru=new WeakMap,ed=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var t=r.value,n=r.parent,a=r.column===n.column&&r.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(r.props.length===1&&t.charCodeAt(0)!==58&&!ru.get(n))&&!a){ru.set(r,!0);for(var u=[],s=Qf(t,u),i=n.props,c=0,f=0;c<s.length;c++)for(var d=0;d<i.length;d++,f++)r.props[f]=u[c]?s[c].replace(/&\f/g,i[d]):i[d]+" "+s[c]}}},rd=function(r){if(r.type==="decl"){var t=r.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(r.return="",r.value="")}};function fs(e,r){switch(kf(e,r)){case 5103:return ae+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ae+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ae+e+Ft+e+ye+e+e;case 6828:case 4268:return ae+e+ye+e+e;case 6165:return ae+e+ye+"flex-"+e+e;case 5187:return ae+e+ue(e,/(\w+).+(:[^]+)/,ae+"box-$1$2"+ye+"flex-$1$2")+e;case 5443:return ae+e+ye+"flex-item-"+ue(e,/flex-|-self/,"")+e;case 4675:return ae+e+ye+"flex-line-pack"+ue(e,/align-content|flex-|-self/,"")+e;case 5548:return ae+e+ye+ue(e,"shrink","negative")+e;case 5292:return ae+e+ye+ue(e,"basis","preferred-size")+e;case 6060:return ae+"box-"+ue(e,"-grow","")+ae+e+ye+ue(e,"grow","positive")+e;case 4554:return ae+ue(e,/([^-])(transform)/g,"$1"+ae+"$2")+e;case 6187:return ue(ue(ue(e,/(zoom-|grab)/,ae+"$1"),/(image-set)/,ae+"$1"),e,"")+e;case 5495:case 3959:return ue(e,/(image-set\([^]*)/,ae+"$1$`$1");case 4968:return ue(ue(e,/(.+:)(flex-)?(.*)/,ae+"box-pack:$3"+ye+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ae+e+e;case 4095:case 3583:case 4068:case 2532:return ue(e,/(.+)-inline(.+)/,ae+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ge(e)-1-r>6)switch(Ae(e,r+1)){case 109:if(Ae(e,r+4)!==45)break;case 102:return ue(e,/(.+:)(.+)-([^]+)/,"$1"+ae+"$2-$3$1"+Ft+(Ae(e,r+3)==108?"$3":"$2-$3"))+e;case 115:return~hn(e,"stretch")?fs(ue(e,"stretch","fill-available"),r)+e:e}break;case 4949:if(Ae(e,r+1)!==115)break;case 6444:switch(Ae(e,Ge(e)-3-(~hn(e,"!important")&&10))){case 107:return ue(e,":",":"+ae)+e;case 101:return ue(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ae+(Ae(e,14)===45?"inline-":"")+"box$3$1"+ae+"$2$3$1"+ye+"$2box$3")+e}break;case 5936:switch(Ae(e,r+11)){case 114:return ae+e+ye+ue(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ae+e+ye+ue(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ae+e+ye+ue(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ae+e+ye+e+e}return e}var td=function(r,t,n,a){if(r.length>-1&&!r.return)switch(r.type){case zn:r.return=fs(r.value,r.length);break;case ss:return Or([jr(r,{value:ue(r.value,"@","@"+ae)})],a);case In:if(r.length)return zf(r.props,function(u){switch(If(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Or([jr(r,{props:[ue(u,/:(read-\w+)/,":"+Ft+"$1")]})],a);case"::placeholder":return Or([jr(r,{props:[ue(u,/:(plac\w+)/,":"+ae+"input-$1")]}),jr(r,{props:[ue(u,/:(plac\w+)/,":"+Ft+"$1")]}),jr(r,{props:[ue(u,/:(plac\w+)/,ye+"input-$1")]})],a)}return""})}},nd=[td],ad=function(r){var t=r.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(o){var m=o.getAttribute("data-emotion");m.indexOf(" ")!==-1&&(document.head.appendChild(o),o.setAttribute("data-s",""))})}var a=r.stylisPlugins||nd,u={},s,i=[];s=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(o){for(var m=o.getAttribute("data-emotion").split(" "),B=1;B<m.length;B++)u[m[B]]=!0;i.push(o)});var c,f=[ed,rd];{var d,v=[Gf,Xf(function(o){d.insert(o)})],h=Yf(f.concat(a,v)),p=function(m){return Or(Kf(m),h)};c=function(m,B,b,F){d=b,p(m?m+"{"+B.styles+"}":B.styles),F&&(g.inserted[B.name]=!0)}}var g={key:t,sheet:new Rf({key:t,container:s,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:u,registered:{},insert:c};return g.sheet.hydrate(i),g};function ud(e){for(var r=0,t,n=0,a=e.length;a>=4;++n,a-=4)t=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,r=(t&65535)*1540483477+((t>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(a){case 3:r^=(e.charCodeAt(n+2)&255)<<16;case 2:r^=(e.charCodeAt(n+1)&255)<<8;case 1:r^=e.charCodeAt(n)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var sd={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},id=/[A-Z]|^ms/g,od=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ds=function(r){return r.charCodeAt(1)===45},tu=function(r){return r!=null&&typeof r!="boolean"},Zt=Jf(function(e){return ds(e)?e:e.replace(id,"-$&").toLowerCase()}),nu=function(r,t){switch(r){case"animation":case"animationName":if(typeof t=="string")return t.replace(od,function(n,a,u){return Ye={name:a,styles:u,next:Ye},a})}return sd[r]!==1&&!ds(r)&&typeof t=="number"&&t!==0?t+"px":t};function Jr(e,r,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Ye={name:t.name,styles:t.styles,next:Ye},t.name;if(t.styles!==void 0){var n=t.next;if(n!==void 0)for(;n!==void 0;)Ye={name:n.name,styles:n.styles,next:Ye},n=n.next;var a=t.styles+";";return a}return ld(e,r,t)}case"function":{if(e!==void 0){var u=Ye,s=t(e);return Ye=u,Jr(e,r,s)}break}}if(r==null)return t;var i=r[t];return i!==void 0?i:t}function ld(e,r,t){var n="";if(Array.isArray(t))for(var a=0;a<t.length;a++)n+=Jr(e,r,t[a])+";";else for(var u in t){var s=t[u];if(typeof s!="object")r!=null&&r[s]!==void 0?n+=u+"{"+r[s]+"}":tu(s)&&(n+=Zt(u)+":"+nu(u,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(r==null||r[s[0]]===void 0))for(var i=0;i<s.length;i++)tu(s[i])&&(n+=Zt(u)+":"+nu(u,s[i])+";");else{var c=Jr(e,r,s);switch(u){case"animation":case"animationName":{n+=Zt(u)+":"+c+";";break}default:n+=u+"{"+c+"}"}}}return n}var au=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ye,_t=function(r,t,n){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var a=!0,u="";Ye=void 0;var s=r[0];s==null||s.raw===void 0?(a=!1,u+=Jr(n,t,s)):u+=s[0];for(var i=1;i<r.length;i++)u+=Jr(n,t,r[i]),a&&(u+=s[i]);au.lastIndex=0;for(var c="",f;(f=au.exec(u))!==null;)c+="-"+f[1];var d=ud(u)+c;return{name:d,styles:u,next:Ye}},cd=!0;function vs(e,r,t){var n="";return t.split(" ").forEach(function(a){e[a]!==void 0?r.push(e[a]+";"):n+=a+" "}),n}var fd=function(r,t,n){var a=r.key+"-"+t.name;(n===!1||cd===!1)&&r.registered[a]===void 0&&(r.registered[a]=t.styles)},dd=function(r,t,n){fd(r,t,n);var a=r.key+"-"+t.name;if(r.inserted[t.name]===void 0){var u=t;do r.insert(t===u?"."+a:"",u,r.sheet,!0),u=u.next;while(u!==void 0)}};function uu(e,r){if(e.inserted[r.name]===void 0)return e.insert("",r,e.sheet,!0)}function su(e,r,t){var n=[],a=vs(e,n,t);return n.length<2?t:a+r(n)}var vd=function(r){var t=ad(r);t.sheet.speedy=function(i){this.isSpeedy=i},t.compat=!0;var n=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var v=_t(f,t.registered,void 0);return dd(t,v,!1),t.key+"-"+v.name},a=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var v=_t(f,t.registered),h="animation-"+v.name;return uu(t,{name:v.name,styles:"@keyframes "+h+"{"+v.styles+"}"}),h},u=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var v=_t(f,t.registered);uu(t,v)},s=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return su(t.registered,n,hd(f))};return{css:n,cx:s,injectGlobal:u,keyframes:a,hydrate:function(c){c.forEach(function(f){t.inserted[f]=!0})},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:vs.bind(null,t.registered),merge:su.bind(null,t.registered,n)}},hd=function e(r){for(var t="",n=0;n<r.length;n++){var a=r[n];if(a!=null){var u=void 0;switch(typeof a){case"boolean":break;case"object":{if(Array.isArray(a))u=e(a);else{u="";for(var s in a)a[s]&&s&&(u&&(u+=" "),u+=s)}break}default:u=a}u&&(t&&(t+=" "),t+=u)}}return t},hs=vd({key:"css"}),kt=hs.cx,It=hs.css;const Zr=Y.forwardRef(({className:e,active:r,reversed:t,...n},a)=>V("span",{...n,ref:a,className:kt(e,It`
          cursor: pointer;
          color: ${t?r?"white":"#aaa":r?"black":"#ccc"};
        `)})),_r=Y.forwardRef(({className:e,...r},t)=>V("span",{...r,ref:t,className:kt("material-icons",e,It`
          font-size: 18px;
          vertical-align: text-bottom;
        `)})),Dn=Y.forwardRef(({className:e,...r},t)=>V("div",{...r,"data-test-id":"menu",ref:t,className:kt(e,It`
          & > * {
            display: inline-block;
          }

          & > * + * {
            margin-left: 15px;
          }
        `)})),pn=Y.forwardRef(({className:e,...r},t)=>V(Dn,{...r,ref:t,className:kt(e,It`
          position: relative;
          padding: 1px 18px 17px;
          margin: 0 -20px;
          border-bottom: 2px solid #eee;
          margin-bottom: 20px;
        `)}));try{Zr.displayName="Button",Zr.__docgenInfo={description:"",displayName:"Button",props:{}}}catch{}try{_r.displayName="Icon",_r.__docgenInfo={description:"",displayName:"Icon",props:{}}}catch{}try{Dn.displayName="Menu",Dn.__docgenInfo={description:"",displayName:"Menu",props:{}}}catch{}try{pn.displayName="Toolbar",pn.__docgenInfo={description:"",displayName:"Toolbar",props:{}}}catch{}const zt=(e,r,t="type")=>{const{selection:n}=e;if(!n)return!1;const[a]=Array.from(l.nodes(e,{at:l.unhangRange(e,n),match:u=>!l.isEditor(u)&&q.isElement(u)&&u[t]===r}));return!!a};function gs(e){const r=e.selection;if(!r)return null;const t=l.unhangRange(e,r,{voids:!0}),[n,a]=l.above(e,{at:t,match:u=>u.type==="table"})??[];return!n||!a?null:[a[0]]}const Br=(e,r)=>{const[t]=l.node(e,[r]);if(!t||t.type!=="table")return null;const n=t.children.length,a=t.children[0].children.length;return{tableNode:t,numberOfRows:n,numberOfCols:a}},Ds=50,ps=30,ms=Ds+100,gd=ps+29.5,Dd=({rows:e=3,cols:r=3})=>{const t={type:"table",settings:{colSizes:Array.from({length:r},()=>ms),rowSizes:Array.from({length:e},()=>gd)},children:[]};for(let n=0;n<e;n++)t.children.push(Cs(r));return t},Cs=e=>{const r={type:"table-row",children:[]};for(let t=0;t<e;t++)r.children.push($n());return r},$n=()=>({type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:""}]}]}),Bs=(e,r)=>{var a;const t=new Set,n=e.children.length;for(let u=0;u<n;u++){const s=(a=e.children[u])==null?void 0:a.children[r];if(!s){console.error("checkCell not found",e,[u,r]);continue}s.rowSpan===0?t.add(u):u+=s.rowSpan-1}return t},mr=(e,r)=>{var n,a;if(r.length!==2)return console.error("currentLocation is malformed",r),null;const t=(n=e.children[r[0]])==null?void 0:n.children[r[1]];if(!t)return null;if(t.rowSpan>0&&t.colSpan>0)return r;if(t.rowSpan>0||t.colSpan>0)return console.error("cell is spanned but not a root cell",t),null;for(let u=r[0];u>=0;u--)for(let s=r[1];s>=0;s--){const i=(a=e.children[u])==null?void 0:a.children[s];if(!i)return console.error("cell is not found",e,r),null;if(i.rowSpan>0&&i.colSpan>0&&u+i.rowSpan>r[0]&&s+i.colSpan>r[1])return[u,s]}return null},pd=(e,r)=>{var f,d;if(r.length!==2)return;const[t,n]=r,a=Br(e,t);if(!a)return;const{tableNode:u,numberOfRows:s,numberOfCols:i}=a;if(n<0||n>=i||a.numberOfCols===1)return;const c=Bs(u,n);for(let v=0;v<s;v++){e:if(c.has(v)){const h=mr(u,[v,n]);if(!h)break e;const[,p]=h,g=(f=u.children[v])==null?void 0:f.children[p];if(!g){console.error("colSpanCell not found",u,[v,p]);break e}if(g.colSpan===0)break e;p+g.colSpan>n&&w.setNodes(e,{colSpan:g.colSpan-1},{at:[t,v,p]})}else{const h=(d=u.children[v])==null?void 0:d.children[n];h&&h.colSpan>1&&(w.moveNodes(e,{at:[t,v,n],to:[t,v,n+1]}),w.setNodes(e,{rowSpan:h.rowSpan,colSpan:h.colSpan-1},{at:[t,v,n+1]}))}w.removeNodes(e,{at:[t,v,n]})}w.setNodes(e,{settings:{colSizes:[...u.settings.colSizes.slice(0,n),...u.settings.colSizes.slice(n+1)],rowSizes:u.settings.rowSizes}},{at:[t]})},Es=(e,r)=>{var a;const t=new Set,n=(a=e.children[r])==null?void 0:a.children.length;if(!n)return console.error("malformed table",e,r),t;for(let u=0;u<n;u++){const s=e.children[r].children[u];s.colSpan===0?t.add(u):u+=s.colSpan-1}return t},md=(e,r)=>{var f,d;if(r.length!==2)return;const[t,n]=r,a=Br(e,t);if(!a)return;const{tableNode:u,numberOfRows:s,numberOfCols:i}=a;if(n<0||n>=s||s===1)return;const c=Es(u,n);for(let v=0;v<i;v++){if(!c.has(v)){const o=(f=u.children[n])==null?void 0:f.children[v];o&&o.rowSpan>1&&(w.moveNodes(e,{at:[t,n,v],to:[t,n+1,v]}),w.moveNodes(e,{at:[t,n+1,v+1],to:[t,n,v]}),w.setNodes(e,{rowSpan:o.rowSpan-1,colSpan:o.colSpan},{at:[t,n+1,v]}));continue}const h=mr(u,[n,v]);if(!h)continue;const[p]=h,g=(d=u.children[p])==null?void 0:d.children[v];if(!g){console.error("rowSpanCell not found",u,[p,v]);continue}p+g.rowSpan>n&&w.setNodes(e,{rowSpan:g.rowSpan-1},{at:[t,p,v]})}w.setNodes(e,{settings:{colSizes:u.settings.colSizes,rowSizes:[...u.settings.rowSizes.slice(0,n),...u.settings.rowSizes.slice(n+1)]}},{at:[t]}),w.removeNodes(e,{at:r})},Cd=(e,r)=>{var f;if(r.length!==2)return;const[t,n]=r,a=Br(e,t);if(!a)return;const{tableNode:u,numberOfRows:s,numberOfCols:i}=a;if(n<0||n>i)return;const c=Bs(u,n);for(let d=0;d<s;d++){const v=$n();e:if(c.has(d)){v.rowSpan=0,v.colSpan=0;const h=mr(u,[d,n]);if(!h)break e;const[,p]=h,g=(f=u.children[d])==null?void 0:f.children[p];if(!g){console.error("colSpanCell not found",u,[d,p]);break e}if(g.colSpan===0)break e;p+g.colSpan-1>=n&&w.setNodes(e,{colSpan:g.colSpan+1},{at:[t,d,p]})}w.insertNodes(e,v,{at:[t,d,n]})}w.setNodes(e,{settings:{colSizes:[...u.settings.colSizes.slice(0,n),ms,...u.settings.colSizes.slice(n)],rowSizes:u.settings.rowSizes}},{at:[t]})},Bd=(e,r)=>{if(r.length!==2)return;const[t,n]=r,a=Br(e,t);if(!a)return;const{tableNode:u,numberOfRows:s,numberOfCols:i}=a;if(n<0||n>s)return;const c=Es(u,n),f=Cs(i);for(let d=0;d<i;d++){const v=f.children[d];if(!c.has(d))continue;v.rowSpan=0,v.colSpan=0;const h=mr(u,[n,d]);if(!h)continue;const[p]=h,g=u.children[p].children[d];g.rowSpan!==0&&p+g.rowSpan-1>=n&&w.setNodes(e,{rowSpan:g.rowSpan+1},{at:[t,p,d]})}w.setNodes(e,{settings:{colSizes:u.settings.colSizes,rowSizes:[...u.settings.rowSizes.slice(0,n),0,...u.settings.rowSizes.slice(n)]}},{at:[t]}),w.insertNodes(e,f,{at:r})},Ed=e=>{if(zt(e,"table"))return;const t=Dd({rows:3,cols:3});w.insertNodes(e,t)},bd=(e,r,t)=>{if(!Number.isInteger(r)||!t||!Br(e,r))return;const[[a,u],[s,i]]=t;a===s&&u===i||l.withoutNormalizing(e,()=>{for(let c=a;c<=s;c++)for(let f=u;f<=i;f++){if(c===a&&f===u){w.setNodes(e,{rowSpan:s-a+1,colSpan:i-u+1},{at:[r,c,f]});continue}w.removeNodes(e,{at:[r,c,f]}),w.insertNodes(e,{...$n(),rowSpan:0,colSpan:0},{at:[r,c,f]})}console.info("expect the selection to be focused on the first cell after merge, but it becomes a range selection"),w.select(e,l.start(e,[r,a,u,0,0]))})},wd=(e,r)=>{var d;const[t,n,a]=r,u=Br(e,t);if(!u)return;const{tableNode:s}=u,i=(d=s.children[n])==null?void 0:d.children[a];if(!i){console.error("Invalid target cell",s,r);return}const{rowSpan:c,colSpan:f}=i;if(!(c<=1&&f<=1))for(let v=n;v<n+c;v++)for(let h=a;h<a+f;h++)w.setNodes(e,{rowSpan:1,colSpan:1},{at:[t,v,h]})},Ad=e=>{const{deleteBackward:r}=e;return e.deleteBackward=t=>{console.log("deleteBackward");const{selection:n}=e;if(n&&E.isCollapsed(n)){const[a]=l.nodes(e,{match:u=>!l.isEditor(u)&&q.isElement(u)&&u.type==="table-cell"});if(a){const[,u]=a,s=l.start(e,u);if(Z.equals(n.anchor,s))return}}r(t)},e},Fd=e=>{const{deleteForward:r}=e;return e.deleteForward=t=>{console.log("deleteForward");const{selection:n}=e;if(n&&E.isCollapsed(n)){const[a]=l.nodes(e,{match:u=>!l.isEditor(u)&&q.isElement(u)&&u.type==="table-cell"});if(a){const[,u]=a,s=l.end(e,u);if(Z.equals(n.anchor,s))return}}r(t)},e},yd=e=>{const{normalizeNode:r}=e;return e.normalizeNode=t=>{const[n,a]=t;if(n.type==="table"&&l.above(e,{at:a,match:s=>s.type==="table"})){w.unwrapNodes(e,{at:a});return}if(n.type==="table-row"){const u=l.parent(e,a);if((u==null?void 0:u[0].type)!=="table"){w.unwrapNodes(e,{at:a});return}}if(n.type==="table-cell"){const u=l.parent(e,a);if((u==null?void 0:u[0].type)!=="table-row"){w.unwrapNodes(e,{at:a});return}r(t)}},e},Od=e=>{const{insertText:r}=e;return e.insertText=t=>{const{selection:n}=e;if(!n)return;if(E.isCollapsed(n)){r(t);return}if(gs(e)!==null){const s=n.anchor.path.slice(0,3),i=n.focus.path.slice(0,3);s.length===3&&i.length===3&&D.equals(s,i)?r(t):(w.select(e,{anchor:n.focus,focus:n.focus}),r(t,{at:n.focus}));return}if(!l.nodes(e,{at:n,match:s=>s.type==="table-cell"}).next().done){console.info("unhandled case: cross table selection with non table elements");return}r(t)},e},Sd=e=>([Ad,Fd,yd,Od].forEach(r=>r(e)),e);const iu=(e,r)=>{var a;const t=mr(e,r);if(!t)return null;const n=(a=e.children[t[0]])==null?void 0:a.children[t[1]];return n?[t[0]+n.rowSpan-1,t[1]+n.colSpan-1]:null},xd=e=>{const[r,t]=Y.useState(null),n=Cr(),a=es(),u=n.selection;return(e==null?void 0:e.type)==="table"?(P.useEffect(()=>{if(!a||!u){t(null);return}const i=gs(n);if(i===null){t(null);return}const[c,f]=E.edges(u),d=[D.relative(c.path,i).slice(0,2),D.relative(f.path,i).slice(0,2)],v=[[Math.min(d[0][0],d[1][0]),Math.min(d[0][1],d[1][1])],[Math.max(d[0][0],d[1][0]),Math.max(d[0][1],d[1][1])]];if(v[0][0]===v[1][0]&&v[0][1]===v[1][1]){t(null);return}const h=Br(n,i[0]);if(!h)return;const{tableNode:p,numberOfRows:g,numberOfCols:o}=h;let m=!1,B=0,b=g*o+g+o;do{B++,m=!1;const[[F,O],[T,k]]=v;for(let y=F;y<=T;y++){e:{const I=mr(p,[y,O]);if(!I){console.error("rootLocation not found",p,[y,O]);break e}if(I[0]===y&&I[1]===O)break e;const R=[Math.min(v[0][0],I[0]),Math.min(v[0][1],I[1])];(R[0]!==v[0][0]||R[1]!==v[0][1])&&(v[0]=R,m=!0)}e:{const I=iu(p,[y,k]);if(!I){console.error("cornerLocation not found",p,[y,k]);break e}if(I[0]===y&&I[1]===k)break e;const R=[Math.max(v[1][0],I[0]),Math.max(v[1][1],I[1])];(R[0]!==v[1][0]||R[1]!==v[1][1])&&(v[1]=R,m=!0)}}for(let y=O;y<=k;y++){e:{const I=mr(p,[F,y]);if(!I){console.error("rootLocation not found",p,[F,y]);break e}if(I[0]===F&&I[1]===y)break e;const R=[Math.min(v[0][0],I[0]),Math.min(v[0][1],I[1])];(R[0]!==v[0][0]||R[1]!==v[0][1])&&(v[0]=R,m=!0)}e:{const I=iu(p,[T,y]);if(!I){console.error("cornerLocation not found",p,[T,y]);break e}if(I[0]===T&&I[1]===y)break e;const R=[Math.max(v[1][0],I[0]),Math.max(v[1][1],I[1])];(R[0]!==v[1][0]||R[1]!==v[1][1])&&(v[1]=R,m=!0)}}}while(m&&B<b);t(v)},[n,a,u]),r):null},Lt=P.createContext({selectedRange:null,settings:{colSizes:[],rowSizes:[]},resizeInfo:{resizing:!1,direction:"",idx:-1,start:0,end:0,startResize:(e,r,t,n)=>{},updateResize:e=>{},endResize:()=>{}}}),Pd=e=>{const{selectedRange:r}=P.useContext(Lt);if(!r)return!1;const[[t,n],[a,u]]=r;return e[0][0]>=t&&e[0][1]>=n&&e[0][0]<=a&&e[0][1]<=u||e[1][0]>=t&&e[1][1]>=n&&e[1][0]<=a&&e[1][1]<=u},Rd=(e,r)=>{const[t,n]=P.useState(!1),[a,u]=P.useState(""),[s,i]=P.useState(-1),[c,f]=P.useState(1),[d,v]=P.useState(0),[h,p]=P.useState(0),[g]=A.findPath(e,r),o=s+c-1;return{resizing:t,direction:a,idx:o,start:d,end:h,startResize:(F,O,T,k)=>{n(!0),u(T),i(F),f(O),v(k),p(k)},updateResize:F=>{let O=F,T=null;const k=a==="horizontal"?Ds:ps,y=a==="horizontal"?r.settings.colSizes:r.settings.rowSizes;a==="horizontal"&&y[o+1]!==void 0&&(T=y[o]+y[o+1]);const I=O-d;y[o]+I<k&&(O=k-y[o]+d),T!==null&&y[o+1]-I<k&&(O=T-k-y[o]+d),p(O)},endResize:()=>{w.setNodes(e,{settings:a==="horizontal"?{...r.settings,colSizes:r.settings.colSizes.map((F,O)=>O===s+c-1?F+h-d:O===s+c?F-h+d:F)}:{...r.settings,rowSizes:r.settings.rowSizes.map((F,O)=>O===s+c-1?F+h-d:F)}},{at:[g]}),n(!1),u(""),i(-1),f(1),v(0),p(0)}}},mn=({style:e={},attributes:r,children:t,element:n})=>{var f;const a=Cr(),u=xd(n),s=es(),i=Rd(a,n),c=(f=a.selection)==null?void 0:f.focus.path;return Fr(Lt.Provider,{value:{selectedRange:u,settings:n.settings,resizeInfo:i},children:[V("div",{style:{width:"100%"},onMouseUp:()=>{i.resizing&&i.endResize()},onMouseMove:d=>{i.resizing&&i.updateResize(i.direction==="horizontal"?d.clientX:d.clientY)},children:Fr("table",{style:{...e,borderCollapse:"collapse",tableLayout:"fixed"},className:u?"table-in-selection":"",...r,children:[V("colgroup",{children:n.settings.colSizes.map((d,v)=>{let h=d;if(i.resizing&&i.direction==="horizontal"){const p=i.end-i.start;v===i.idx?h=h+p:v===i.idx+1&&(h=h-p)}return V("col",{style:{minWidth:`${h}px`}},v)})}),V("tbody",{children:t})]})}),Fr("div",{contentEditable:!1,children:[V("button",{onClick:()=>{const d=(c==null?void 0:c.slice(0,2))??[];d.length===2&&Bd(a,d)},disabled:!s,children:"Insert row"}),V("button",{onClick:()=>{const d=(c==null?void 0:c.slice(0,3))??[];d.length===3&&Cd(a,[d[0],d[2]])},disabled:!s,children:"Insert col"}),V("button",{onClick:()=>{const d=(c==null?void 0:c.slice(0,2))??[];d.length===2&&md(a,d)},children:"Delete row"}),V("button",{onClick:()=>{const d=(c==null?void 0:c.slice(0,3))??[];d.length===3&&pd(a,[d[0],d[2]])},children:"Delete col"}),V("button",{onClick:()=>{const[d]=A.findPath(a,n);bd(a,d,u)},disabled:!s||!u,children:"Merge cells"}),V("button",{onClick:()=>{const[d,v,h]=(c==null?void 0:c.slice(0,3))??[];d===void 0||v===void 0||h===void 0||wd(a,[d,v,h])},children:"Split cell"})]})]})},Cn=({style:e={},attributes:r,children:t,element:n})=>V("tr",{style:e,...r,children:t}),Bn=({style:e={},attributes:r,children:t,element:n})=>{const a=Cr(),{settings:u,resizeInfo:{resizing:s,direction:i,idx:c,start:f,end:d}}=P.useContext(Lt),[,v,h]=A.findPath(a,n),{rowSpan:p=1,colSpan:g=1}=n,o=Pd([[v,h],[v+p-1,h+g-1]]);let m=u.rowSizes[v];s&&i==="vertical"&&c===v&&(m+=d-f);const B=P.useMemo(()=>{try{return A.toDOMNode(a,n)}catch{return null}},[a,n]);return P.useEffect(()=>{},[B]),n.colSpan===0||n.rowSpan===0?null:Fr("td",{style:{...e,border:"1px solid",padding:"4px 8px",verticalAlign:"top",position:"relative",height:`${m??0}px`},className:o?"cell-selected":"",rowSpan:p,colSpan:g,...r,children:[t,V(ou,{direction:"horizontal",idx:h,span:n.colSpan}),V(ou,{direction:"vertical",idx:v,span:n.rowSpan})]})},ou=({idx:e,direction:r,span:t})=>{const{resizeInfo:{resizing:n,idx:a,direction:u,startResize:s}}=P.useContext(Lt),i=n&&u===r&&e+t-1===a;return V("div",{className:`table-resize-handle ${r==="horizontal"?"column-resize-handle":"row-resize-handle"}`,style:{...i?{backgroundColor:"blue",opacity:1}:{}},onMouseDown:c=>{c.preventDefault(),s(e,t,r,r==="horizontal"?c.clientX:c.clientY)}})},En=({icon:e})=>{const r=Cr();return V(Zr,{active:zt(r,"table"),onMouseDown:t=>{t.preventDefault(),Ed(r)},children:V(_r,{children:e})})};try{mn.displayName="Table",mn.__docgenInfo={description:"",displayName:"Table",props:{style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"{}"}},attributes:{defaultValue:null,description:"",name:"attributes",required:!0,type:{name:"any"}},element:{defaultValue:null,description:"",name:"element",required:!0,type:{name:"any"}}}}}catch{}try{Cn.displayName="TableRow",Cn.__docgenInfo={description:"",displayName:"TableRow",props:{style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"{}"}},attributes:{defaultValue:null,description:"",name:"attributes",required:!0,type:{name:"any"}},element:{defaultValue:null,description:"",name:"element",required:!0,type:{name:"any"}}}}}catch{}try{Bn.displayName="TableCell",Bn.__docgenInfo={description:"",displayName:"TableCell",props:{style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"{}"}},attributes:{defaultValue:null,description:"",name:"attributes",required:!0,type:{name:"any"}},element:{defaultValue:null,description:"",name:"element",required:!0,type:{name:"any"}}}}}catch{}try{En.displayName="TableButton",En.__docgenInfo={description:"",displayName:"TableButton",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"any"}}}}}catch{}const Td={"mod+b":"bold","mod+i":"italic","mod+u":"underline","mod+`":"code"},lu=["numbered-list","bulleted-list"],Ct=["left","center","right","justify"],Nd=({handleUpdate:e})=>{const r=P.useCallback(a=>V(jd,{...a}),[]),t=P.useCallback(a=>V(kd,{...a}),[]),n=P.useMemo(()=>Sd(yf(Af(Rl()))),[]);return Fr(bf,{editor:n,initialValue:Id,onChange:e,children:[V("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),Fr(pn,{children:[V(ct,{format:"bold",icon:"format_bold"}),V(ct,{format:"italic",icon:"format_italic"}),V(ct,{format:"underline",icon:"format_underlined"}),V(ct,{format:"code",icon:"code"}),V(Ze,{format:"heading-one",icon:"looks_one"}),V(Ze,{format:"heading-two",icon:"looks_two"}),V(Ze,{format:"block-quote",icon:"format_quote"}),V(Ze,{format:"numbered-list",icon:"format_list_numbered"}),V(Ze,{format:"bulleted-list",icon:"format_list_bulleted"}),V(Ze,{format:"left",icon:"format_align_left"}),V(Ze,{format:"center",icon:"format_align_center"}),V(Ze,{format:"right",icon:"format_align_right"}),V(Ze,{format:"justify",icon:"format_align_justify"}),V(En,{icon:"table_view"})]}),V(vf,{style:{padding:"8px 30px"},renderElement:r,renderLeaf:t,placeholder:"Enter some rich text…",spellCheck:!0,autoFocus:!0,onKeyDown:a=>{for(const[u,s]of Object.entries(Td))Us(u,a)&&(a.preventDefault(),bs(n,s))}})]})},Md=(e,r)=>{const t=zt(e,r,Ct.includes(r)?"align":"type"),n=lu.includes(r);w.unwrapNodes(e,{match:u=>!l.isEditor(u)&&q.isElement(u)&&lu.includes(u.type)&&!Ct.includes(r),split:!0});let a;if(Ct.includes(r)?a={align:t?void 0:r}:a={type:t?"paragraph":n?"list-item":r},w.setNodes(e,a),!t&&n){const u={type:r,children:[]};w.wrapNodes(e,u)}},bs=(e,r)=>{ws(e,r)?l.removeMark(e,r):l.addMark(e,r,!0)},ws=(e,r)=>{const t=l.marks(e);return t?t[r]===!0:!1},jd=({attributes:e,children:r,element:t})=>{const n={textAlign:t.align};switch(t.type){case"block-quote":return V("blockquote",{style:n,...e,children:r});case"bulleted-list":return V("ul",{style:n,...e,children:r});case"heading-one":return V("h1",{style:n,...e,children:r});case"heading-two":return V("h2",{style:n,...e,children:r});case"list-item":return V("li",{style:n,...e,children:r});case"numbered-list":return V("ol",{style:n,...e,children:r});case"table":return V(mn,{style:n,attributes:e,element:t,children:r});case"table-row":return V(Cn,{style:n,attributes:e,element:t,children:r});case"table-cell":return V(Bn,{style:n,attributes:e,element:t,children:r});default:return V("p",{style:n,...e,children:r})}},kd=({attributes:e,children:r,leaf:t})=>(t.bold&&(r=V("strong",{children:r})),t.code&&(r=V("code",{children:r})),t.italic&&(r=V("em",{children:r})),t.underline&&(r=V("u",{children:r})),V("span",{...e,children:r})),Ze=({format:e,icon:r})=>{const t=Cr();return V(Zr,{active:zt(t,e,Ct.includes(e)?"align":"type"),onMouseDown:n=>{n.preventDefault(),Md(t,e)},children:V(_r,{children:r})})},ct=({format:e,icon:r})=>{const t=Cr();return V(Zr,{active:ws(t,e),onMouseDown:n=>{n.preventDefault(),bs(t,e)},children:V(_r,{children:r})})},Id=[{type:"paragraph",children:[{text:""}]},{type:"table",settings:{colSizes:[150,150,150,150,150,150],rowSizes:[59.5,59.5,59.5,59.5,59.5,59.5,59.5]},children:[{type:"table-row",children:[{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"na"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"1"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"2"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"3"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"4"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"5"}]}]}]},{type:"table-row",children:[{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"a"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"a1"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"a2"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"a3"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"a4"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"a5"}]}]}]},{type:"table-row",children:[{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"b"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"b1"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"b2"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"b3"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"b4"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"b5"}]}]}]},{type:"table-row",children:[{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"c"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"c1"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"c2"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"c3"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"c4"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"c5"}]}]}]},{type:"table-row",children:[{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"d"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"d1"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"d2"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"d3"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"d4"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"d5"}]}]}]},{type:"table-row",children:[{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"e"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"e1"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"e2"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"e3"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"e4"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"e5"}]}]}]},{type:"table-row",children:[{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"f"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"f1"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"f2"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"f3"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"f4"}]}]},{type:"table-cell",rowSpan:1,colSpan:1,children:[{type:"paragraph",children:[{text:"f5"}]}]}]}]}];try{richtext.displayName="richtext",richtext.__docgenInfo={description:"",displayName:"richtext",props:{handleUpdate:{defaultValue:null,description:"",name:"handleUpdate",required:!1,type:{name:"((arg: any) => void)"}}}}}catch{}const Hd={title:"Example/Editor",component:()=>V(Nd,{handleUpdate:e=>Ns("Components: ")(JSON.stringify(e,null,2))}),parameters:{layout:"centered"},tags:["editor"]},ft={args:{}};var cu,fu,du;ft.parameters={...ft.parameters,docs:{...(cu=ft.parameters)==null?void 0:cu.docs,source:{originalSource:`{
  args: {}
}`,...(du=(fu=ft.parameters)==null?void 0:fu.docs)==null?void 0:du.source}}};const Vd=["Normal"];export{ft as Normal,Vd as __namedExportsOrder,Hd as default};
//# sourceMappingURL=RichTextEditor.stories-6e1b212c.js.map
